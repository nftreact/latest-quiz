"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4952,7696],{64952:function(n,e,t){t.r(e);var o=t(57437),i=t(10816),a=t(91806),r=t(22146),l=t(53635),d=t(2265),s=t(65496),c=t(92164),u=t(24033),p=t(55764),m=t(73633),f=t.n(m),h=t(31605),x=t(67696),g=t(95761),_=t(7607),y=t(55452),b=t(69532);e.default=n=>{var e,t;let{button:a,plans:m,currency:x,clientToken:j,discountBar:C}=n,{push:z}=(0,u.useRouter)(),[E,L]=(0,d.useState)(),[N,Z]=(0,d.useState)(),T=new s.Z,I=T.get("Authorization"),S=T.get("code"),A=T.get("user-ip-address"),[,{start:M,render:P,isStarted:G,reset:V}]=(0,h.A$)(Number("600000"),1e3,"minutes"),[Y,$]=(0,d.useState)(!1);(0,d.useEffect)(()=>{var n;let e=m.items.filter(n=>"true"===n.featured);L(0===e.length?null===(n=m.items[0])||void 0===n?void 0:n.planId:e[0].planId),Z(0===e.length?m.items[0]:e[0])},[]);let{mutate:B,isLoading:D,data:H}=(0,p.D)(()=>(0,g.ZA)({Authorization:I,code:S,discount:C?"true":"false",plan:E,currency:x,userIpAddress:A}),{onSuccess:n=>{if(n.resultLink&&"fa_IR"===c.Xf.DEFAULT_LOCALE)z(n.resultLink);else if(n.resultLink)return $(!0),n.resultLink},onError:n=>{console.log(n)}});return(0,d.useEffect)(()=>{Y&&(document.body.style.overflow="hidden");let n=document.querySelector("html");return n&&(n.style.overflow=Y?"hidden":"auto"),()=>{}},[Y]),(0,o.jsxs)(w,{direction:"column",align:"center",gap:"30px",id:"plans",children:[(0,o.jsx)(i.ZT,{variant:"h1",tag:"h1",fontWeight:600,style:{textAlign:"center"},children:m.sectionTitle}),(0,o.jsxs)(i.tG,{justify:"space-between",gap:"20px",children:[(0,o.jsx)(_.Z,{title:m.target.title,description:m.target.description,image:null!==(e=m.target.icon)&&void 0!==e?e:r.Z}),(0,o.jsx)(k,{style:{margin:"auto"}}),(0,o.jsx)(_.Z,{title:m.regime.title,description:m.regime.description,image:null!==(t=m.regime.icon)&&void 0!==t?t:l.Z})]}),(0,o.jsx)(i.tG,{direction:"column",gap:"20px",style:{width:"100%"},children:null==m?void 0:m.items.map((n,e)=>(0,o.jsx)(b.Z,{onClick:()=>{Z(n),L(n.planId)},index:n.planId,thisPlan:n,discounted:C,selectedPlan:E},e))}),(0,o.jsx)(i.zx,{variant:"checkout",className:"checkoutButton",onClick:()=>B(),children:D?(0,o.jsx)(i.tG,{justify:"center",children:(0,o.jsx)(f(),{color:"#ffff",type:"spin",width:25,height:25})}):(0,o.jsx)(i.ZT,{children:a.text})}),(null==H?void 0:H.resultLink)&&(0,o.jsx)(v,{open:Y,onClose:()=>$(!0),children:(0,o.jsx)(y.Z,{paymentModal:null==m?void 0:m.paymentModal[E],priceUnit:N.price.unit,currency:x,open:!!(null==H?void 0:H.resultLink),discounted:G,clientToken:j,resultCode:null==H?void 0:H.resultLink,selectedPlanId:E,fullPrice:Number(N.price.regular),discountedPrice:Number(N.price.discounted),handleCloseModal:n=>{$(n)}},x)})]})};let w=(0,a.zo)(i.tG).withConfig({componentId:"sc-6af247e3-0"})(["padding:24px 0px;max-width:600px;margin:auto;overflow:hidden;@media (min-width:768px){border:1px solid #dfe3eb;border-radius:14px;}"]),k=(0,a.zo)(i.tG).withConfig({componentId:"sc-6af247e3-1"})(["width:2px;height:50px;background-color:#dfe3eb;"]),v=(0,a.zo)(x.default).withConfig({componentId:"sc-6af247e3-2"})(["&& .modal__header{display:none !important;}& .modal__popup{max-width:1000px !important;}"])},67696:function(n,e,t){t.r(e),t.d(e,{Modal:function(){return l},default:function(){return l},useToggle:function(){return d}});var o=t(57437),i=t(2265),a=t(54887);function r(){return(0,o.jsx)("svg",{stroke:"currentColor",fill:"none","stroke-width":"0",viewBox:"0 0 15 15",height:"20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,o.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor"})})}function l(n){let{open:e,toggle:t,onClose:l,onOpenChange:d,title:s,footer:c,header:u,children:p,hideIcon:m,className:f,wrapperClassName:h,width:x=550,position:g="center",animation:_="zoom",animationDuration:y=400,showEscape:b=!1,blur:w=!1,style:k={},...v}=n,[j,C]=(0,i.useState)(!e);function z(){t&&t(),l&&l(),d&&d(!1)}if((0,i.useEffect)(()=>(document.body.style.overflow=e?"hidden":"auto",()=>{document.body.style.overflow="auto"}),[e]),(0,i.useEffect)(()=>{if(e)return document.addEventListener("keydown",n),()=>{document.removeEventListener("keydown",n)};function n(n){"Escape"===n.key&&z()}},[e]),(0,i.useEffect)(()=>{if(e)return C(!1);let n=setTimeout(()=>{C(!0)},y+50);return()=>clearTimeout(n)},[e]),"undefined"==typeof window||!e&&j)return null;let E=["modal",`modal__position-${g}`];e&&E.push("modal__open"),h&&E.push(h);let L=["modal__popup",`modal__popup--animation-${_}`,f],N=["modal__close-button"];b&&N.push("modal__close-button-escape");let Z=["modal__backdrop"];w&&Z.push("modal__backdrop--blur");let T=!m||s?(0,o.jsxs)("header",{className:"modal__header",children:[u||(0,o.jsx)("h3",{className:"modal__title",children:s}),!m&&(0,o.jsx)("button",{onClick:z,className:N.join(" "),children:b?(0,o.jsx)("kbd",{children:"ESC"}):(0,o.jsx)(r,{})})]}):null,I=(0,o.jsxs)("div",{className:E.join(" "),children:[(0,o.jsx)("div",{onClick:z,className:Z.join(" ")}),(0,o.jsxs)("div",{className:L.join(" "),style:{animationDuration:`${y}ms`,maxWidth:`${x}px`,...k},...v,children:[T,(0,o.jsx)("div",{className:"modal__body",children:p}),!!c&&(0,o.jsx)("footer",{children:c})]})]});return(0,a.createPortal)(I,document.body)}function d(n=!1){let[e,t]=(0,i.useState)(n);return[e,function(){t(!e)}]}!function(n,e){void 0===e&&(e={});var t=e.insertAt;if(n&&"undefined"!=typeof document){var o=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===t&&o.firstChild?o.insertBefore(i,o.firstChild):o.appendChild(i),i.styleSheet?i.styleSheet.cssText=n:i.appendChild(document.createTextNode(n))}}("@keyframes fade-in {\n    0% {\n        opacity: 0;\n    }\n    100% {\n        opacity: 1;\n    }\n}\n\n@keyframes fade-out {\n    0% {\n        opacity: 1;\n    }\n    100% {\n        opacity: 0;\n    }\n}\n\n@keyframes slide-down {\n    0% {\n        opacity: 0;\n        transform: translateY(-15px);\n    }\n    100% {\n        opacity: 1;\n        transform: translateY(0);\n    }\n}\n\n@keyframes slide-up {\n    0% {\n        opacity: 1;\n        transform: translateY(0);\n    }\n    100% {\n        opacity: 0;\n        transform: translateY(15px);\n    }\n}\n\n@keyframes zoom-in {\n    0% {\n        opacity: 0;\n        transform: scale(0.9);\n    }\n    100% {\n        opacity: 1;\n        transform: scale(1);\n    }\n}\n\n@keyframes zoom-out {\n    0% {\n        opacity: 1;\n        transform: scale(1);\n    }\n    100% {\n        opacity: 0;\n        transform: scale(1.1);\n    }\n}\n\n.modal {\n    position: fixed;\n    width: 100vw;\n    height: 100dvh;\n    top: 0;\n    left: 0;\n    display: flex;\n    flex-wrap: wrap;\n    flex-direction: column;\n    align-content: center;\n    z-index: 9999;\n}\n.modal__position-center {\n    justify-content: center;\n}\n.modal__position-top {\n    justify-content: flex-start;\n}\n.modal__position-bottom {\n    justify-content: flex-end;\n}\n\n.modal__backdrop {\n    background-color: rgba(0, 0, 0, 0.2);\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    z-index: 9999;\n    opacity: 0;\n    animation: fade-out 300ms forwards;\n}\n.modal__backdrop--blur {\n    -webkit-backdrop-filter: blur(4px);\n            backdrop-filter: blur(4px);\n}\n\n.modal__open .modal__backdrop {\n    animation: fade-in 300ms forwards;\n}\n\n.modal__popup {\n    padding: 20px;\n    border-radius: 18px;\n    width: 95%;\n    max-height: 90vh;\n    border: 1px solid #ddd;\n    background: #fff;\n    z-index: 99999;\n    opacity: 0;\n    display: flex;\n    flex-direction: column;\n    transform: translateY(-15px);\n    overflow: hidden;\n}\n\n.modal__popup--animation-zoom {\n    animation: zoom-out 400ms ease-out forwards;\n}\n\n.modal__open .modal__popup--animation-zoom {\n    animation: zoom-in 400ms ease-out forwards;\n}\n\n.modal__popup--animation-slide {\n    animation: slide-up 400ms ease-out forwards;\n}\n\n.modal__open .modal__popup--animation-slide {\n    animation: slide-down 400ms ease-in forwards;\n}\n\n.modal__header {\n    display: flex;\n    justify-content: space-between;\n    align-items: flex-start;\n}\n\n.modal__title {\n    color: #000000c9;\n    margin: 0 0 12px;\n    font-weight: 600;\n    font-size: 22px;\n}\n\n.modal__body {\n    height: 100%;\n    overflow-y: auto;\n    flex-grow: 1;\n}\n\n.modal__close-button {\n    cursor: pointer;\n    border-radius: 50%;\n    border: none;\n    color: rgb(233 30 99);\n    height: 32px;\n    width: 32px;\n    overflow: hidden;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    margin: -4px 0 0;\n    background-color: #fff !important;\n    transition-property: all;\n    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n    transition-duration: 0.2s;\n}\n.modal__close-button:hover {\n    background-color: rgba(0, 121, 211, 0.1) !important;\n}\n\n.modal__close-button-escape {\n    width: 2rem;\n    height: 1.6rem;\n    background-image: url(\"data:image/svg+xml,%3Csvg width='16' height='7' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M.506 6h3.931V4.986H1.736v-1.39h2.488V2.583H1.736V1.196h2.69V.182H.506V6ZM8.56 1.855h1.18C9.721.818 8.87.102 7.574.102c-1.276 0-2.21.705-2.205 1.762-.003.858.602 1.35 1.585 1.585l.634.159c.633.153.986.335.988.727-.002.426-.406.716-1.03.716-.64 0-1.1-.295-1.14-.878h-1.19c.03 1.259.931 1.91 2.343 1.91 1.42 0 4.256-.68 2.259-1.745-.003-.969-.733-1.483-1.744-1.71l-.523-.125c-.506-.117-.93-.304-.92-.722 0-.375.332-.65.934-.65.588 0 .949.267.994.724ZM15.78 2.219C15.618.875 14.6.102 13.254.102c-1.537 0-2.71 1.086-2.71 2.989 0 1.898 1.153 2.989 2.71 2.989 1.492 0 2.392-.992 2.526-2.063l-1.244-.006c-.117.623-.606.98-1.262.98-.883 0-1.483-.656-1.483-1.9 0-1.21.591-1.9 1.492-1.9.673 0 1.159.389 1.253 1.028h1.244Z' fill='%23334155'/%3E%3C/svg%3E\");\n    background-position: 50%;\n    background-repeat: no-repeat;\n    background-size: 57.1428571429% auto;\n    border-radius: 6px;\n    padding: 0.25rem 0.375rem;\n    border: 1px solid #0f172a0d;\n    -webkit-appearance: none;\n       -moz-appearance: none;\n            appearance: none;\n    flex: none;\n    font-size: 0;\n    border-radius: 0.375rem;\n    padding: 0.25rem 0.375rem;\n}\n.modal__close-button-escap kbd {\n    display: none;\n}\n",{insertAt:"top"})}}]);