"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[145],{50145:function(e,o,i){i.r(o);var r=i(57437),t=i(10816),n=i(61865),l=i(91806),s=i(89701),d=i(54873),a=i(35691),c=i(55764),u=i(9583),p=i(24033),m=i(65496),x=i(87415),h=i(19573),b=i(73633),f=i.n(b);let g=a.Ry().shape({mobileNumber:a.Z_()});o.default=e=>{var o,i,l,a,b;let{}=e,{push:j}=(0,p.useRouter)(),C=new m.Z,y=(0,p.useSearchParams)().get("code");C.set("confirmPayCode",y);let k=window.location.href,I=C.get("Authorization"),{register:Z,reset:P,watch:z,setValue:_,formState:{errors:S}}=(0,n.cI)({resolver:(0,s.X)(g),mode:"onChange"}),T=e=>{let o=e.target,i=o.value.replace(/[^\d]/g,"");o.value=i},{mutate:A,isLoading:E}=(0,c.D)(()=>(0,u.U)(Number(z("mobileNumber")),k,I),{onSuccess:e=>{"true"===e.success&&(C.set("phoneNumber",e.data.phoneNumber),x.Am.success(e.data.verifySubtitle),j("/confirmPay/verificationcode?code=".concat(y))),"false"===e.success&&x.Am.error(e.message)},onError:e=>console.log(e,"error")});return(0,r.jsxs)(v,{errorTesxt:null==S?void 0:null===(o=S.mobileNumber)||void 0===o?void 0:o.message,children:[(0,r.jsx)(t.ZT,{textalign:"center",fontWeight:700,children:"شماره موبایل خود را وارد کنید"}),(0,r.jsxs)(N,{errorTesxt:null===(i=S.mobileNumber)||void 0===i?void 0:i.message,className:"InputContainer",children:[(0,r.jsx)("input",{placeholder:"مثال : ۰۹۱۲۰۰۰۰۰۰۰",...Z("mobileNumber",{onChange(e){_("mobileNumber",(0,h.Bo)(e.target.value.slice(0,11))),T(e)}})}),(null===(l=S.mobileNumber)||void 0===l?void 0:l.message)&&(0,r.jsx)(d.UYI,{})]}),(0,r.jsx)(w,{children:null===(a=S.mobileNumber)||void 0===a?void 0:a.message}),(0,r.jsx)(t.zx,{onClick:()=>{A()},variant:"checkout",position:"fixed",disabled:!!(null===(b=S.mobileNumber)||void 0===b?void 0:b.message)||!z("mobileNumber"),children:E?(0,r.jsx)(t.tG,{justify:"center",children:(0,r.jsx)(f(),{color:"#ffff",type:"spin",width:20,height:20})}):(0,r.jsx)(t.ZT,{children:"تایید وادامه"})})]})};let v=l.ZP.section.withConfig({componentId:"sc-9d18183f-0"})(["padding-inline:16px;position:relative;padding-block:100px 40px;max-width:600px;margin:auto;display:flex;flex-direction:column;gap:20px;direction:rtl;input{::placeholder{opacity:50%;}}& .InputContainer:focus-within{border:",";}"],e=>{let{errorTesxt:o}=e;return o?"1.5px solid red":"2px solid #02857a"}),N=l.ZP.div.withConfig({componentId:"sc-9d18183f-1"})(["display:flex;align-items:center;gap:5px;border:",";height:50px;border-radius:4px;padding-inline:8px;cursor:pointer;input{outline:none;height:100%;width:100%;border:none;font-size:16px;color:",";}p{color:",";font-size:14px;}svg{scale:1.4;fill:red;}"],e=>{let{errorTesxt:o}=e;return o?"1.5px solid red":"1.5px solid #02857a"},e=>{let{errorTesxt:o}=e;return o?"red":"#000"},e=>{let{errorTesxt:o}=e;return o?"red":"#000"}),w=l.ZP.p.withConfig({componentId:"sc-9d18183f-2"})(["position:absolute;bottom:35px;font-size:10px;color:red;right:25px;"])}}]);