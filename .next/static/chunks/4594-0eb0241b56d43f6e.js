"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4594],{44594:function(t,e,n){n.d(e,{R:function(){return ab}});var r,i,o,a,s,u,c,l,d,f,h,p,v,y,g,m,b,S,w=n(2265);n(50267);var x="undefined"!=typeof window&&window.document&&window.document.createElement?w.useLayoutEffect:w.useEffect;"undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();var E=n(54887),_=function(t){var e,n=t.children,r=t.type,i=void 0===r?"reach-portal":r,o=(0,w.useRef)(null),a=(0,w.useRef)(null),s=(e=(0,w.useState)(Object.create(null))[1],(0,w.useCallback)(function(){e(Object.create(null))},[]));return x(function(){if(o.current){var t=o.current.ownerDocument;return a.current=null==t?void 0:t.createElement(i),t.body.appendChild(a.current),s(),function(){a.current&&a.current.ownerDocument&&a.current.ownerDocument.body.removeChild(a.current)}}},[i,s]),a.current?(0,E.createPortal)(n,a.current):(0,w.createElement)("span",{ref:o})},O=function(){return(O=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function k(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&0>e.indexOf(r)&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)0>e.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function P(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function R(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function T(t,e,n){if(n||2==arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}var C={},A="xstate.guard";(r=d||(d={})).Start="xstate.start",r.Stop="xstate.stop",r.Raise="xstate.raise",r.Send="xstate.send",r.Cancel="xstate.cancel",r.NullEvent="",r.Assign="xstate.assign",r.After="xstate.after",r.DoneState="done.state",r.DoneInvoke="done.invoke",r.Log="xstate.log",r.Init="xstate.init",r.Invoke="xstate.invoke",r.ErrorExecution="error.execution",r.ErrorCommunication="error.communication",r.ErrorPlatform="error.platform",r.ErrorCustom="xstate.error",r.Update="xstate.update",r.Pure="xstate.pure",r.Choose="xstate.choose",(i=f||(f={})).Parent="#_parent",i.Internal="#_internal";var N=d.Start,j=d.Stop,D=d.Raise,I=d.Send,M=d.Cancel,z=d.NullEvent,L=d.Assign;d.After,d.DoneState;var V=d.Log,F=d.Init,B=d.Invoke;d.ErrorExecution;var H=d.ErrorPlatform,G=d.ErrorCustom,q=d.Update,$=d.Choose,U=d.Pure;function K(t,e,n){void 0===n&&(n=".");var r=X(t,n),i=X(e,n);return tl(i)?!!tl(r)&&i===r:tl(r)?r in i:Object.keys(r).every(function(t){return t in i&&K(r[t],i[t])})}function Q(t){try{return tl(t)||"number"==typeof t?"".concat(t):t.type}catch(t){throw Error("Events must be strings or objects with a string event.type property.")}}function W(t,e){try{if(tu(t))return t;return t.toString().split(e)}catch(e){throw Error("'".concat(t,"' is not a valid state path."))}}function X(t,e){return"object"==typeof t&&"value"in t&&"context"in t&&"event"in t&&"_event"in t?t.value:tu(t)?J(t):"string"!=typeof t?t:J(W(t,e))}function J(t){if(1===t.length)return t[0];for(var e={},n=e,r=0;r<t.length-1;r++)r===t.length-2?n[t[r]]=t[r+1]:(n[t[r]]={},n=n[t[r]]);return e}function Z(t,e){for(var n={},r=Object.keys(t),i=0;i<r.length;i++){var o=r[i];n[o]=e(t[o],o,t,i)}return n}function Y(t,e,n){var r,i,o={};try{for(var a=P(Object.keys(t)),s=a.next();!s.done;s=a.next()){var u=s.value,c=t[u];n(c)&&(o[u]=e(c,u,t))}}catch(t){r={error:t}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return o}var tt=function(t){return function(e){var n,r,i=e;try{for(var o=P(t),a=o.next();!a.done;a=o.next())i=i[a.value]}catch(t){n={error:t}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}};function te(t){return t?tl(t)?[[t]]:tn(Object.keys(t).map(function(e){var n=t[e];return"string"==typeof n||n&&Object.keys(n).length?te(t[e]).map(function(t){return[e].concat(t)}):[[e]]})):[[]]}function tn(t){var e;return(e=[]).concat.apply(e,T([],R(t),!1))}function tr(t){return void 0===t?[]:tu(t)?t:[t]}function ti(t,e,n){if(tc(t))return t(e,n.data);var r,i,o={};try{for(var a=P(Object.keys(t)),s=a.next();!s.done;s=a.next()){var u=s.value,c=t[u];tc(c)?o[u]=c(e,n.data):o[u]=c}}catch(t){r={error:t}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return o}function to(t){return!!(t instanceof Promise||null!==t&&(tc(t)||"object"==typeof t)&&tc(t.then))}function ta(t,e,n,r){return t?n.reduce(function(t,n){var i,o,a=n.assignment,s={state:r,action:n,_event:e},u={};if(tc(a))u=a(t,e.data,s);else try{for(var c=P(Object.keys(a)),l=c.next();!l.done;l=c.next()){var d=l.value,f=a[d];u[d]=tc(f)?f(t,e.data,s):f}}catch(t){i={error:t}}finally{try{l&&!l.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}return Object.assign({},t,u)},t):t}var ts=function(){};function tu(t){return Array.isArray(t)}function tc(t){return"function"==typeof t}function tl(t){return"string"==typeof t}function td(t,e){return t?tl(t)?{type:A,name:t,predicate:e?e[t]:void 0}:tc(t)?{type:A,name:t.name,predicate:t}:t:void 0}var tf="function"==typeof Symbol&&Symbol.observable||"@@observable";function th(t){return!!t&&"__xstatenode"in t}function tp(t,e){return tl(t)||"number"==typeof t?O({type:t},e):t}function tv(t,e){if(!tl(t)&&"$$type"in t&&"scxml"===t.$$type)return t;var n=tp(t);return O({name:n.type,data:n,$$type:"scxml",type:"external"},e)}function ty(t,e){return(tu(e)?e:[e]).map(function(e){return void 0===e||"string"==typeof e||th(e)?{target:e,event:t}:O(O({},e),{event:t})})}function tg(t,e,n,r,i){var o=t.options.guards,a={state:i,cond:e,_event:r};if(e.type===A)return((null==o?void 0:o[e.name])||e.predicate)(n,r.data,a);var s=null==o?void 0:o[e.type];if(!s)throw Error("Guard '".concat(e.type,"' is not implemented on machine '").concat(t.id,"'."));return s(n,r.data,a)}function tm(t){return"string"==typeof t?{type:t}:t}function tb(t,e,n){var r=function(){},i="object"==typeof t,o=i?t:null;return{next:((i?t.next:t)||r).bind(o),error:((i?t.error:e)||r).bind(o),complete:((i?t.complete:n)||r).bind(o)}}function tS(t,e){return"".concat(t,":invocation[").concat(e,"]")}function tw(t){return(t.type===D||t.type===I&&t.to===f.Internal)&&"number"!=typeof t.delay}(h={})[tf]=function(){return this},h[Symbol.observable]=function(){return this};var tx=function(t){return"atomic"===t.type||"final"===t.type};function tE(t){return Object.keys(t.states).map(function(e){return t.states[e]})}function t_(t){return tE(t).filter(function(t){return"history"!==t.type})}function tO(t,e){var n,r,i,o,a,s,u,c,l=tk(new Set(t)),d=new Set(e);try{for(var f=P(d),h=f.next();!h.done;h=f.next())for(var p=h.value,v=p.parent;v&&!d.has(v);)d.add(v),v=v.parent}catch(t){n={error:t}}finally{try{h&&!h.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}var y=tk(d);try{for(var g=P(d),m=g.next();!m.done;m=g.next()){var p=m.value;if("compound"!==p.type||y.get(p)&&y.get(p).length){if("parallel"===p.type)try{for(var b=(a=void 0,P(t_(p))),S=b.next();!S.done;S=b.next()){var w=S.value;d.has(w)||(d.add(w),l.get(w)?l.get(w).forEach(function(t){return d.add(t)}):w.initialStateNodes.forEach(function(t){return d.add(t)}))}}catch(t){a={error:t}}finally{try{S&&!S.done&&(s=b.return)&&s.call(b)}finally{if(a)throw a.error}}}else l.get(p)?l.get(p).forEach(function(t){return d.add(t)}):p.initialStateNodes.forEach(function(t){return d.add(t)})}}catch(t){i={error:t}}finally{try{m&&!m.done&&(o=g.return)&&o.call(g)}finally{if(i)throw i.error}}try{for(var x=P(d),E=x.next();!E.done;E=x.next())for(var p=E.value,v=p.parent;v&&!d.has(v);)d.add(v),v=v.parent}catch(t){u={error:t}}finally{try{E&&!E.done&&(c=x.return)&&c.call(x)}finally{if(u)throw u.error}}return d}function tk(t){var e,n,r=new Map;try{for(var i=P(t),o=i.next();!o.done;o=i.next()){var a=o.value;r.has(a)||r.set(a,[]),a.parent&&(r.has(a.parent)||r.set(a.parent,[]),r.get(a.parent).push(a))}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}function tP(t,e){return Array.isArray(t)?t.some(function(t){return t===e}):t instanceof Set&&t.has(e)}function tR(t,e){return"compound"===e.type?t_(e).some(function(e){return"final"===e.type&&tP(t,e)}):"parallel"===e.type&&t_(e).every(function(e){return tR(t,e)})}function tT(t){return new Set(tn(t.map(function(t){return t.tags})))}var tC=tv({type:F});function tA(t,e){return e&&e[t]||void 0}function tN(t,e){var n;if(tl(t)||"number"==typeof t){var r=tA(t,e);n=tc(r)?{type:t,exec:r}:r||{type:t,exec:void 0}}else if(tc(t))n={type:t.name||t.toString(),exec:t};else{var r=tA(t.type,e);if(tc(r))n=O(O({},t),{exec:r});else if(r){var i=r.type||t.type;n=O(O(O({},r),t),{type:i})}else n=t}return n}var tj=function(t,e){return t?(tu(t)?t:[t]).map(function(t){return tN(t,e)}):[]};function tD(t){var e=tN(t);return O(O({id:tl(t)?t:e.id},e),{type:e.type})}function tI(t,e){var n="".concat(d.DoneState,".").concat(t),r={type:n,data:e};return r.toString=function(){return n},r}function tM(t,e){var n="".concat(d.DoneInvoke,".").concat(t),r={type:n,data:e};return r.toString=function(){return n},r}function tz(t,e){var n="".concat(d.ErrorPlatform,".").concat(t),r={type:n,data:e};return r.toString=function(){return n},r}var tL=function(t){var e,n,r=[];try{for(var i=P(t),o=i.next();!o.done;o=i.next())for(var a=o.value,s=0;s<a.actions.length;){if(a.actions[s].type===L){r.push(a.actions[s]),a.actions.splice(s,1);continue}s++}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r};function tV(t,e,n,r,i,o,a){void 0===a&&(a=!1);var s=a?[]:tL(i),u=s.length?ta(n,r,s,e):n,c=a?[n]:void 0,l=[];return[tn(i.map(function(i){var s,h,p=[];try{for(var v=P(i.actions),y=v.next();!y.done;y=v.next()){var g=y.value,m=function(i,s){var h;switch(s.type){case D:var p=function(t,e,n,r){var i,o={_event:n},a=tv(tc(t.event)?t.event(e,n.data,o):t.event);if(tl(t.delay)){var s=r&&r[t.delay];i=tc(s)?s(e,n.data,o):s}else i=tc(t.delay)?t.delay(e,n.data,o):t.delay;return O(O({},t),{type:D,_event:a,delay:i})}(s,u,r,t.options.delays);return o&&"number"==typeof p.delay&&o(p,u,r),p;case I:var v=function(t,e,n,r){var i,o={_event:n},a=tv(tc(t.event)?t.event(e,n.data,o):t.event);if(tl(t.delay)){var s=r&&r[t.delay];i=tc(s)?s(e,n.data,o):s}else i=tc(t.delay)?t.delay(e,n.data,o):t.delay;var u=tc(t.to)?t.to(e,n.data,o):t.to;return O(O({},t),{to:u,_event:a,event:a.data,delay:i})}(s,u,r,t.options.delays);return o&&v.to!==f.Internal&&("entry"===i?l.push(v):o(v,u,r)),v;case V:var y,g=(y=u,O(O({},s),{value:tl(s.expr)?s.expr:s.expr(y,r.data,{_event:r})}));return null==o||o(g,u,r),g;case $:var m=null===(h=s.conds.find(function(n){var i=td(n.cond,t.options.guards);return!i||tg(t,i,u,r,o?void 0:e)}))||void 0===h?void 0:h.actions;if(!m)return[];var b=R(tV(t,e,u,r,[{type:i,actions:tj(tr(m),t.options.actions)}],o,a),2),S=b[0];return u=b[1],null==c||c.push(u),S;case U:var m=s.get(u,r.data);if(!m)return[];var w=R(tV(t,e,u,r,[{type:i,actions:tj(tr(m),t.options.actions)}],o,a),2),x=w[0];return u=w[1],null==c||c.push(u),x;case j:var E,_,g=(E=u,_=tc(s.activity)?s.activity(E,r.data):s.activity,{type:d.Stop,activity:"string"==typeof _?{id:_}:_});return null==o||o(g,n,r),g;case L:u=ta(u,r,[s],o?void 0:e),null==c||c.push(u);break;default:var k=tN(s,t.options.actions),P=k.exec;if(o)o(k,u,r);else if(P&&c){var C=c.length-1;k=O(O({},k),{exec:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];P.apply(void 0,T([c[C]],R(e),!1))}})}return k}}(i.type,g);m&&(p=p.concat(m))}}catch(t){s={error:t}}finally{try{y&&!y.done&&(h=v.return)&&h.call(v)}finally{if(s)throw s.error}}return l.forEach(function(t){o(t,u,r)}),l.length=0,p})),u]}var tF=function(){function t(t){var e,n,r=this;this.actions=[],this.activities=C,this.meta={},this.events=[],this.value=t.value,this.context=t.context,this._event=t._event,this._sessionid=t._sessionid,this.event=this._event.data,this.historyValue=t.historyValue,this.history=t.history,this.actions=t.actions||[],this.activities=t.activities||C,this.meta=(void 0===(e=t.configuration)&&(e=[]),e.reduce(function(t,e){return void 0!==e.meta&&(t[e.id]=e.meta),t},{})),this.events=t.events||[],this.matches=this.matches.bind(this),this.toStrings=this.toStrings.bind(this),this.configuration=t.configuration,this.transitions=t.transitions,this.children=t.children,this.done=!!t.done,this.tags=null!==(n=Array.isArray(t.tags)?new Set(t.tags):t.tags)&&void 0!==n?n:new Set,this.machine=t.machine,Object.defineProperty(this,"nextEvents",{get:function(){var t;return t=r.configuration,T([],R(new Set(tn(T([],R(t.map(function(t){return t.ownEvents})),!1)))),!1)}})}return t.from=function(e,n){return e instanceof t?e.context!==n?new t({value:e.value,context:n,_event:e._event,_sessionid:null,historyValue:e.historyValue,history:e.history,actions:[],activities:e.activities,meta:{},events:[],configuration:[],transitions:[],children:{}}):e:new t({value:e,context:n,_event:tC,_sessionid:null,historyValue:void 0,history:void 0,actions:[],activities:void 0,meta:void 0,events:[],configuration:[],transitions:[],children:{}})},t.create=function(e){return new t(e)},t.inert=function(e,n){return e instanceof t?e.actions.length?new t({value:e.value,context:n,_event:tC,_sessionid:null,historyValue:e.historyValue,history:e.history,activities:e.activities,configuration:e.configuration,transitions:[],children:{}}):e:t.from(e,n)},t.prototype.toStrings=function(t,e){var n=this;if(void 0===t&&(t=this.value),void 0===e&&(e="."),tl(t))return[t];var r=Object.keys(t);return r.concat.apply(r,T([],R(r.map(function(r){return n.toStrings(t[r],e).map(function(t){return r+e+t})})),!1))},t.prototype.toJSON=function(){this.configuration,this.transitions;var t=this.tags;this.machine;var e=k(this,["configuration","transitions","tags","machine"]);return O(O({},e),{tags:Array.from(t)})},t.prototype.matches=function(t){return K(t,this.value)},t.prototype.hasTag=function(t){return this.tags.has(t)},t.prototype.can=function(t){ts(!!this.machine,"state.can(...) used outside of a machine-created State object; this will always return false.");var e,n=null===(e=this.machine)||void 0===e?void 0:e.getTransitionData(this,t);return!!(null==n?void 0:n.transitions.length)&&n.transitions.some(function(t){return void 0!==t.target||t.actions.length})},t}(),tB=w.useLayoutEffect,tH={deferEvents:!1},tG=function(){function t(t){this.processingEvent=!1,this.queue=[],this.initialized=!1,this.options=O(O({},tH),t)}return t.prototype.initialize=function(t){if(this.initialized=!0,t){if(!this.options.deferEvents){this.schedule(t);return}this.process(t)}this.flushEvents()},t.prototype.schedule=function(t){if(!this.initialized||this.processingEvent){this.queue.push(t);return}if(0!==this.queue.length)throw Error("Event queue should be empty when it is not processing events");this.process(t),this.flushEvents()},t.prototype.clear=function(){this.queue=[]},t.prototype.flushEvents=function(){for(var t=this.queue.shift();t;)this.process(t),t=this.queue.shift()},t.prototype.process=function(t){this.processingEvent=!0;try{t()}catch(t){throw this.clear(),t}finally{this.processingEvent=!1}},t}(),tq=[],t$=function(t,e){tq.push(t);var n=e(t);return tq.pop(),n};function tU(t){var e;return(e={id:t,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},getSnapshot:function(){},toJSON:function(){return{id:t}}})[tf]=function(){return this},e}function tK(t,e,n){var r=tU(e);if(r.deferred=!0,th(t)){var i=r.state=t$(void 0,function(){return(n?t.withContext(n):t).initialState});r.getSnapshot=function(){return i}}return r}var tQ=new Map,tW=0,tX={bookId:function(){return"x:".concat(tW++)},register:function(t,e){return tQ.set(t,e),t},get:function(t){return tQ.get(t)},free:function(t){tQ.delete(t)}};function tJ(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:void 0}var tZ={sync:!1,autoForward:!1};(o=p||(p={}))[o.NotStarted=0]="NotStarted",o[o.Running=1]="Running",o[o.Stopped=2]="Stopped";var tY=function(){function t(e,n){void 0===n&&(n=t.defaultOptions);var r=this;this.machine=e,this.delayedEventsMap={},this.listeners=new Set,this.contextListeners=new Set,this.stopListeners=new Set,this.doneListeners=new Set,this.eventListeners=new Set,this.sendListeners=new Set,this.initialized=!1,this.status=p.NotStarted,this.children=new Map,this.forwardTo=new Set,this._outgoingQueue=[],this.init=this.start,this.send=function(t,e){if(tu(t))return r.batch(t),r.state;var n=tv(tp(t,e));if(r.status===p.Stopped)return r.state;if(r.status!==p.Running&&!r.options.deferEvents)throw Error('Event "'.concat(n.name,'" was sent to uninitialized service "').concat(r.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.\nEvent: ').concat(JSON.stringify(n.data)));return r.scheduler.schedule(function(){r.forward(n);var t=r._nextState(n);r.update(t,n)}),r._state},this.sendTo=function(t,e,n){var i=r.parent&&(e===f.Parent||r.parent.id===e),o=i?r.parent:tl(e)?e===f.Internal?r:r.children.get(e)||tX.get(e):e&&"function"==typeof e.send?e:void 0;if(!o){if(!i)throw Error("Unable to send event to child '".concat(e,"' from service '").concat(r.id,"'."));return}if("machine"in o){if(r.status!==p.Stopped||r.parent!==o||r.state.done){var a=O(O({},t),{name:t.name===G?"".concat(tz(r.id)):t.name,origin:r.sessionId});!n&&r.machine.config.predictableActionArguments?r._outgoingQueue.push([o,a]):o.send(a)}}else!n&&r.machine.config.predictableActionArguments?r._outgoingQueue.push([o,t.data]):o.send(t.data)},this._exec=function(t,e,n,i){void 0===i&&(i=r.machine.options.actions);var o=t.exec||tA(t.type,i),a=tc(o)?o:o?o.exec:t.exec;if(a)try{return a(e,n.data,r.machine.config.predictableActionArguments?{action:t,_event:n}:{action:t,state:r.state,_event:n})}catch(t){throw r.parent&&r.parent.send({type:"xstate.error",data:t}),t}switch(t.type){case D:r.defer(t);break;case I:if("number"==typeof t.delay){r.defer(t);return}t.to?r.sendTo(t._event,t.to,n===tC):r.send(t._event);break;case M:r.cancel(t.sendId);break;case N:if(r.status!==p.Running)return;var s=t.activity;if(!r.machine.config.predictableActionArguments&&!r.state.activities[s.id||s.type])break;if(s.type===d.Invoke){var u=tm(s.src),c=r.machine.options.services?r.machine.options.services[u.type]:void 0,l=s.id,f=s.data,h="autoForward"in s?s.autoForward:!!s.forward;if(!c)return;var v=f?ti(f,e,n):void 0;if("string"==typeof c)return;var y=tc(c)?c(e,n.data,{data:v,src:u,meta:s.meta}):c;if(!y)return;var g=void 0;th(y)&&(y=v?y.withContext(v):y,g={autoForward:h}),r.spawn(y,l,g)}else r.spawnActivity(s);break;case j:r.stopChild(t.activity.id);break;case V:var m=t.label,b=t.value;m?r.logger(m,b):r.logger(b)}};var i=O(O({},t.defaultOptions),n),o=i.clock,a=i.logger,s=i.parent,u=i.id,c=void 0!==u?u:e.id;this.id=c,this.logger=a,this.clock=o,this.parent=s,this.options=i,this.scheduler=new tG({deferEvents:this.options.deferEvents}),this.sessionId=tX.bookId()}return Object.defineProperty(t.prototype,"initialState",{get:function(){var t=this;return this._initialState?this._initialState:t$(this,function(){return t._initialState=t.machine.initialState,t._initialState})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),t.prototype.execute=function(t,e){var n,r;try{for(var i=P(t.actions),o=i.next();!o.done;o=i.next()){var a=o.value;this.exec(a,t,e)}}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},t.prototype.update=function(t,e){var n,r,i,o,a,s,u,c,l=this;if(t._sessionid=this.sessionId,this._state=t,(!this.machine.config.predictableActionArguments||e===tC)&&this.options.execute)this.execute(this.state);else for(var d=void 0;d=this._outgoingQueue.shift();)d[0].send(d[1]);if(this.children.forEach(function(t){l.state.children[t.id]=t}),this.devTools&&this.devTools.send(e.data,t),t.event)try{for(var f=P(this.eventListeners),h=f.next();!h.done;h=f.next()){var p=h.value;p(t.event)}}catch(t){n={error:t}}finally{try{h&&!h.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}try{for(var v=P(this.listeners),y=v.next();!y.done;y=v.next()){var p=y.value;p(t,t.event)}}catch(t){i={error:t}}finally{try{y&&!y.done&&(o=v.return)&&o.call(v)}finally{if(i)throw i.error}}try{for(var g=P(this.contextListeners),m=g.next();!m.done;m=g.next())(0,m.value)(this.state.context,this.state.history?this.state.history.context:void 0)}catch(t){a={error:t}}finally{try{m&&!m.done&&(s=g.return)&&s.call(g)}finally{if(a)throw a.error}}if(this.state.done){var b=t.configuration.find(function(t){return"final"===t.type&&t.parent===l.machine}),S=b&&b.doneData?ti(b.doneData,t.context,e):void 0;this._doneEvent=tM(this.id,S);try{for(var w=P(this.doneListeners),x=w.next();!x.done;x=w.next()){var p=x.value;p(this._doneEvent)}}catch(t){u={error:t}}finally{try{x&&!x.done&&(c=w.return)&&c.call(w)}finally{if(u)throw u.error}}this._stop(),this._stopChildren(),tX.free(this.sessionId)}},t.prototype.onTransition=function(t){return this.listeners.add(t),this.status===p.Running&&t(this.state,this.state.event),this},t.prototype.subscribe=function(t,e,n){var r=this,i=tb(t,e,n);this.listeners.add(i.next),this.status!==p.NotStarted&&i.next(this.state);var o=function(){r.doneListeners.delete(o),r.stopListeners.delete(o),i.complete()};return this.status===p.Stopped?i.complete():(this.onDone(o),this.onStop(o)),{unsubscribe:function(){r.listeners.delete(i.next),r.doneListeners.delete(o),r.stopListeners.delete(o)}}},t.prototype.onEvent=function(t){return this.eventListeners.add(t),this},t.prototype.onSend=function(t){return this.sendListeners.add(t),this},t.prototype.onChange=function(t){return this.contextListeners.add(t),this},t.prototype.onStop=function(t){return this.stopListeners.add(t),this},t.prototype.onDone=function(t){return this.status===p.Stopped&&this._doneEvent?t(this._doneEvent):this.doneListeners.add(t),this},t.prototype.off=function(t){return this.listeners.delete(t),this.eventListeners.delete(t),this.sendListeners.delete(t),this.stopListeners.delete(t),this.doneListeners.delete(t),this.contextListeners.delete(t),this},t.prototype.start=function(t){var e=this;if(this.status===p.Running)return this;this.machine._init(),tX.register(this.sessionId,this),this.initialized=!0,this.status=p.Running;var n=void 0===t?this.initialState:t$(this,function(){return"object"==typeof t&&null!==t&&"value"in t&&"_event"in t?e.machine.resolveState(t):e.machine.resolveState(tF.from(t,e.machine.context))});return this.options.devTools&&this.attachDev(),this.scheduler.initialize(function(){e.update(n,tC)}),this},t.prototype._stopChildren=function(){this.children.forEach(function(t){tc(t.stop)&&t.stop()}),this.children.clear()},t.prototype._stop=function(){var t,e,n,r,i,o,a,s,u,c;try{for(var l=P(this.listeners),d=l.next();!d.done;d=l.next()){var f=d.value;this.listeners.delete(f)}}catch(e){t={error:e}}finally{try{d&&!d.done&&(e=l.return)&&e.call(l)}finally{if(t)throw t.error}}try{for(var h=P(this.stopListeners),v=h.next();!v.done;v=h.next()){var f=v.value;f(),this.stopListeners.delete(f)}}catch(t){n={error:t}}finally{try{v&&!v.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}try{for(var y=P(this.contextListeners),g=y.next();!g.done;g=y.next()){var f=g.value;this.contextListeners.delete(f)}}catch(t){i={error:t}}finally{try{g&&!g.done&&(o=y.return)&&o.call(y)}finally{if(i)throw i.error}}try{for(var m=P(this.doneListeners),b=m.next();!b.done;b=m.next()){var f=b.value;this.doneListeners.delete(f)}}catch(t){a={error:t}}finally{try{b&&!b.done&&(s=m.return)&&s.call(m)}finally{if(a)throw a.error}}if(!this.initialized)return this;this.initialized=!1,this.status=p.Stopped,this._initialState=void 0;try{for(var S=P(Object.keys(this.delayedEventsMap)),w=S.next();!w.done;w=S.next()){var x=w.value;this.clock.clearTimeout(this.delayedEventsMap[x])}}catch(t){u={error:t}}finally{try{w&&!w.done&&(c=S.return)&&c.call(S)}finally{if(u)throw u.error}}this.scheduler.clear(),this.scheduler=new tG({deferEvents:this.options.deferEvents})},t.prototype.stop=function(){var t=this,e=this.scheduler;return this._stop(),e.schedule(function(){if(null===(e=t._state)||void 0===e||!e.done){var e,n=tv({type:"xstate.stop"}),r=t$(t,function(){var e=tn(T([],R(t.state.configuration),!1).sort(function(t,e){return e.order-t.order}).map(function(e){return tj(e.onExit,t.machine.options.actions)})),r=R(tV(t.machine,t.state,t.state.context,n,[{type:"exit",actions:e}],t.machine.config.predictableActionArguments?t._exec:void 0,t.machine.config.predictableActionArguments||t.machine.config.preserveActionOrder),2),i=r[0],o=r[1],a=new tF({value:t.state.value,context:o,_event:n,_sessionid:t.sessionId,historyValue:void 0,history:t.state,actions:i.filter(function(t){return!tw(t)}),activities:{},events:[],configuration:[],transitions:[],children:{},done:t.state.done,tags:t.state.tags,machine:t.machine});return a.changed=!0,a});t.update(r,n),t._stopChildren(),tX.free(t.sessionId)}}),this},t.prototype.batch=function(t){var e=this;if(this.status===p.NotStarted&&this.options.deferEvents);else if(this.status!==p.Running)throw Error("".concat(t.length,' event(s) were sent to uninitialized service "').concat(this.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.'));if(t.length){var n=!!this.machine.config.predictableActionArguments&&this._exec;this.scheduler.schedule(function(){var r,i,o=e.state,a=!1,s=[];try{for(var u=P(t),c=u.next();!c.done;c=u.next()){var l=c.value;!function(t){var r=tv(t);e.forward(r),o=t$(e,function(){return e.machine.transition(o,r,void 0,n||void 0)}),s.push.apply(s,T([],R(e.machine.config.predictableActionArguments?o.actions:o.actions.map(function(t){var e,n;return e=o,n=t.exec,O(O({},t),{exec:void 0!==n?function(){return n(e.context,e.event,{action:t,state:e,_event:e._event})}:void 0})})),!1)),a=a||!!o.changed}(l)}}catch(t){r={error:t}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}o.changed=a,o.actions=s,e.update(o,tv(t[t.length-1]))})}},t.prototype.sender=function(t){return this.send.bind(this,t)},t.prototype._nextState=function(t,e){var n=this;void 0===e&&(e=!!this.machine.config.predictableActionArguments&&this._exec);var r=tv(t);if(0===r.name.indexOf(H)&&!this.state.nextEvents.some(function(t){return 0===t.indexOf(H)}))throw r.data.data;return t$(this,function(){return n.machine.transition(n.state,r,void 0,e||void 0)})},t.prototype.nextState=function(t){return this._nextState(t,!1)},t.prototype.forward=function(t){var e,n;try{for(var r=P(this.forwardTo),i=r.next();!i.done;i=r.next()){var o=i.value,a=this.children.get(o);if(!a)throw Error("Unable to forward event '".concat(t,"' from interpreter '").concat(this.id,"' to nonexistant child '").concat(o,"'."));a.send(t)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.defer=function(t){var e=this,n=this.clock.setTimeout(function(){"to"in t&&t.to?e.sendTo(t._event,t.to,!0):e.send(t._event)},t.delay);t.id&&(this.delayedEventsMap[t.id]=n)},t.prototype.cancel=function(t){this.clock.clearTimeout(this.delayedEventsMap[t]),delete this.delayedEventsMap[t]},t.prototype.exec=function(t,e,n){void 0===n&&(n=this.machine.options.actions),this._exec(t,e.context,e._event,n)},t.prototype.removeChild=function(t){var e;this.children.delete(t),this.forwardTo.delete(t),null===(e=this.state)||void 0===e||delete e.children[t]},t.prototype.stopChild=function(t){var e=this.children.get(t);e&&(this.removeChild(t),tc(e.stop)&&e.stop())},t.prototype.spawn=function(t,e,n){if(this.status!==p.Running)return tK(t,e);if(to(t))return this.spawnPromise(Promise.resolve(t),e);if(tc(t))return this.spawnCallback(t,e);if(function(t){try{return"function"==typeof t.send}catch(t){return!1}}(t)&&"id"in t)return this.spawnActor(t,e);if(function(t){try{return"subscribe"in t&&tc(t.subscribe)}catch(t){return!1}}(t))return this.spawnObservable(t,e);if(th(t))return this.spawnMachine(t,O(O({},n),{id:e}));if(null!==t&&"object"==typeof t&&"transition"in t&&"function"==typeof t.transition)return this.spawnBehavior(t,e);throw Error('Unable to spawn entity "'.concat(e,'" of type "').concat(typeof t,'".'))},t.prototype.spawnMachine=function(e,n){var r=this;void 0===n&&(n={});var i=new t(e,O(O({},this.options),{parent:this,id:n.id||e.id})),o=O(O({},tZ),n);return o.sync&&i.onTransition(function(t){r.send(q,{state:t,id:i.id})}),this.children.set(i.id,i),o.autoForward&&this.forwardTo.add(i.id),i.onDone(function(t){r.removeChild(i.id),r.send(tv(t,{origin:i.id}))}).start(),i},t.prototype.spawnBehavior=function(t,e){var n,r,i,o,a,s,u,c,l,d,f=(n={id:e,parent:this},r=t.initialState,i=new Set,o=[],a=!1,s=function(){if(!a){for(a=!0;o.length>0;){var e=o.shift();r=t.transition(r,e,d),i.forEach(function(t){return t.next(r)})}a=!1}},u={id:n.id,send:function(t){o.push(t),s()},getSnapshot:function(){return r},subscribe:function(t,e,n){var o=tb(t,e,n);return i.add(o),o.next(r),{unsubscribe:function(){i.delete(o)}}}},l=O(((c={subscribe:function(){return{unsubscribe:function(){}}},id:"anonymous",getSnapshot:function(){}})[tf]=function(){return this},c),u),d={parent:n.parent,self:l,id:n.id||"anonymous",observers:i},r=t.start?t.start(d):r,l);return this.children.set(e,f),f},t.prototype.spawnPromise=function(t,e){var n,r,i=this,o=!1;t.then(function(t){o||(r=t,i.removeChild(e),i.send(tv(tM(e,t),{origin:e})))},function(t){if(!o){i.removeChild(e);var n=tz(e,t);try{i.send(tv(n,{origin:e}))}catch(t){i.devTools&&i.devTools.send(n,i.state),i.machine.strict&&i.stop()}}});var a=((n={id:e,send:function(){},subscribe:function(e,n,r){var i=tb(e,n,r),o=!1;return t.then(function(t){!o&&(i.next(t),o||i.complete())},function(t){o||i.error(t)}),{unsubscribe:function(){return o=!0}}},stop:function(){o=!0},toJSON:function(){return{id:e}},getSnapshot:function(){return r}})[tf]=function(){return this},n);return this.children.set(e,a),a},t.prototype.spawnCallback=function(t,e){var n,r,i,o=this,a=!1,s=new Set,u=new Set;try{i=t(function(t){r=t,u.forEach(function(e){return e(t)}),a||o.send(tv(t,{origin:e}))},function(t){s.add(t)})}catch(t){this.send(tz(e,t))}if(to(i))return this.spawnPromise(i,e);var c=((n={id:e,send:function(t){return s.forEach(function(e){return e(t)})},subscribe:function(t){var e=tb(t);return u.add(e.next),{unsubscribe:function(){u.delete(e.next)}}},stop:function(){a=!0,tc(i)&&i()},toJSON:function(){return{id:e}},getSnapshot:function(){return r}})[tf]=function(){return this},n);return this.children.set(e,c),c},t.prototype.spawnObservable=function(t,e){var n,r,i=this,o=t.subscribe(function(t){r=t,i.send(tv(t,{origin:e}))},function(t){i.removeChild(e),i.send(tv(tz(e,t),{origin:e}))},function(){i.removeChild(e),i.send(tv(tM(e),{origin:e}))}),a=((n={id:e,send:function(){},subscribe:function(e,n,r){return t.subscribe(e,n,r)},stop:function(){return o.unsubscribe()},getSnapshot:function(){return r},toJSON:function(){return{id:e}}})[tf]=function(){return this},n);return this.children.set(e,a),a},t.prototype.spawnActor=function(t,e){return this.children.set(e,t),t},t.prototype.spawnActivity=function(t){var e=this.machine.options&&this.machine.options.activities?this.machine.options.activities[t.type]:void 0;if(e){var n=e(this.state.context,t);this.spawnEffect(t.id,n)}},t.prototype.spawnEffect=function(t,e){var n;this.children.set(t,((n={id:t,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},stop:e||void 0,getSnapshot:function(){},toJSON:function(){return{id:t}}})[tf]=function(){return this},n))},t.prototype.attachDev=function(){var t=tJ();if(this.options.devTools&&t){if(t.__REDUX_DEVTOOLS_EXTENSION__){var e="object"==typeof this.options.devTools?this.options.devTools:void 0;this.devTools=t.__REDUX_DEVTOOLS_EXTENSION__.connect(O(O({name:this.id,autoPause:!0,stateSanitizer:function(t){return{value:t.value,context:t.context,actions:t.actions}}},e),{features:O({jump:!1,skip:!1},e?e.features:void 0)}),this.machine),this.devTools.init(this.state)}!function(t){if(tJ()){var e=function(){var t=tJ();if(t&&"__xstate__"in t)return t.__xstate__}();e&&e.register(t)}}(this)}},t.prototype.toJSON=function(){return{id:this.id}},t.prototype[tf]=function(){return this},t.prototype.getSnapshot=function(){return this.status===p.NotStarted?this.initialState:this._state},t.defaultOptions={execute:!0,deferEvents:!0,clock:{setTimeout:function(t,e){return setTimeout(t,e)},clearTimeout:function(t){return clearTimeout(t)}},logger:console.log.bind(console),devTools:!1},t.interpret=t0,t}();function t0(t,e){return new tY(t,e)}function t1(t){var e=w.useRef();return e.current||(e.current={v:t()}),e.current.v}(a=v||(v={}))[a.Effect=1]="Effect",a[a.LayoutEffect=2]="LayoutEffect";var t2=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},t5=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},t3=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},t4=function(t,e,n){if(n||2==arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))};function t9(t,e){(0,t.exec)(e.context,e._event.data,{action:t,state:e,_event:e._event})()}var t7=function(){return(t7=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},t8=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&0>e.indexOf(r)&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)0>e.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},t6=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},et=Object.defineProperty,ee={};((t,e)=>{for(var n in e)et(t,n,{get:e[n],enumerable:!0})})(ee,{assign:()=>ej,colors:()=>eC,createStringInterpolator:()=>y,skipAnimation:()=>eA,to:()=>g,willAdvance:()=>eN});var en=em(),er=t=>ep(t,en),ei=em();er.write=t=>ep(t,ei);var eo=em();er.onStart=t=>ep(t,eo);var ea=em();er.onFrame=t=>ep(t,ea);var es=em();er.onFinish=t=>ep(t,es);var eu=[];er.setTimeout=(t,e)=>{let n=er.now()+e,r=()=>{let t=eu.findIndex(t=>t.cancel==r);~t&&eu.splice(t,1),ef-=~t?1:0},i={time:n,handler:t,cancel:r};return eu.splice(ec(n),0,i),ef+=1,ev(),i};var ec=t=>~(~eu.findIndex(e=>e.time>t)||~eu.length);er.cancel=t=>{eo.delete(t),ea.delete(t),es.delete(t),en.delete(t),ei.delete(t)},er.sync=t=>{eh=!0,er.batchedUpdates(t),eh=!1},er.throttle=t=>{let e;function n(){try{t(...e)}finally{e=null}}function r(...t){e=t,er.onStart(n)}return r.handler=t,r.cancel=()=>{eo.delete(n),e=null},r};var el="undefined"!=typeof window?window.requestAnimationFrame:()=>{};er.use=t=>el=t,er.now="undefined"!=typeof performance?()=>performance.now():Date.now,er.batchedUpdates=t=>t(),er.catch=console.error,er.frameLoop="always",er.advance=()=>{"demand"!==er.frameLoop?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):eg()};var ed=-1,ef=0,eh=!1;function ep(t,e){eh?(e.delete(t),t(0)):(e.add(t),ev())}function ev(){ed<0&&(ed=0,"demand"!==er.frameLoop&&el(ey))}function ey(){~ed&&(el(ey),er.batchedUpdates(eg))}function eg(){let t=ed,e=ec(ed=er.now());if(e&&(eb(eu.splice(0,e),t=>t.handler()),ef-=e),!ef){ed=-1;return}eo.flush(),en.flush(t?Math.min(64,ed-t):16.667),ea.flush(),ei.flush(),es.flush()}function em(){let t=new Set,e=t;return{add(n){ef+=e!=t||t.has(n)?0:1,t.add(n)},delete:n=>(ef-=e==t&&t.has(n)?1:0,t.delete(n)),flush(n){e.size&&(t=new Set,ef-=e.size,eb(e,e=>e(n)&&t.add(e)),ef+=t.size,e=t)}}}function eb(t,e){t.forEach(t=>{try{e(t)}catch(t){er.catch(t)}})}function eS(){}var ew=(t,e,n)=>Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0}),ex={arr:Array.isArray,obj:t=>!!t&&"Object"===t.constructor.name,fun:t=>"function"==typeof t,str:t=>"string"==typeof t,num:t=>"number"==typeof t,und:t=>void 0===t};function eE(t,e){if(ex.arr(t)){if(!ex.arr(e)||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return t===e}var e_=(t,e)=>t.forEach(e);function eO(t,e,n){if(ex.arr(t)){for(let r=0;r<t.length;r++)e.call(n,t[r],`${r}`);return}for(let r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r)}var ek=t=>ex.und(t)?[]:ex.arr(t)?t:[t];function eP(t,e){if(t.size){let n=Array.from(t);t.clear(),e_(n,e)}}var eR=(t,...e)=>eP(t,t=>t(...e)),eT=()=>"undefined"==typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),eC=null,eA=!1,eN=eS,ej=t=>{t.to&&(g=t.to),t.now&&(er.now=t.now),void 0!==t.colors&&(eC=t.colors),null!=t.skipAnimation&&(eA=t.skipAnimation),t.createStringInterpolator&&(y=t.createStringInterpolator),t.requestAnimationFrame&&er.use(t.requestAnimationFrame),t.batchedUpdates&&(er.batchedUpdates=t.batchedUpdates),t.willAdvance&&(eN=t.willAdvance),t.frameLoop&&(er.frameLoop=t.frameLoop)},eD=new Set,eI=[],eM=[],ez=0,eL={get idle(){return!eD.size&&!eI.length},start(t){ez>t.priority?(eD.add(t),er.onStart(eV)):(eF(t),er(eH))},advance:eH,sort(t){if(ez)er.onFrame(()=>eL.sort(t));else{let e=eI.indexOf(t);~e&&(eI.splice(e,1),eB(t))}},clear(){eI=[],eD.clear()}};function eV(){eD.forEach(eF),eD.clear(),er(eH)}function eF(t){eI.includes(t)||eB(t)}function eB(t){eI.splice(function(t,e){let n=t.findIndex(e);return n<0?t.length:n}(eI,e=>e.priority>t.priority),0,t)}function eH(t){let e=eM;for(let n=0;n<eI.length;n++){let r=eI[n];ez=r.priority,r.idle||(eN(r),r.advance(t),r.idle||e.push(r))}return ez=0,(eM=eI).length=0,(eI=e).length>0}var eG="[-+]?\\d*\\.?\\d+",eq=eG+"%";function e$(...t){return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}var eU=RegExp("rgb"+e$(eG,eG,eG)),eK=RegExp("rgba"+e$(eG,eG,eG,eG)),eQ=RegExp("hsl"+e$(eG,eq,eq)),eW=RegExp("hsla"+e$(eG,eq,eq,eG)),eX=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,eJ=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,eZ=/^#([0-9a-fA-F]{6})$/,eY=/^#([0-9a-fA-F]{8})$/;function e0(t,e,n){return(n<0&&(n+=1),n>1&&(n-=1),n<1/6)?t+(e-t)*6*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function e1(t,e,n){let r=n<.5?n*(1+e):n+e-n*e,i=2*n-r;return Math.round(255*e0(i,r,t+1/3))<<24|Math.round(255*e0(i,r,t))<<16|Math.round(255*e0(i,r,t-1/3))<<8}function e2(t){let e=parseInt(t,10);return e<0?0:e>255?255:e}function e5(t){return(parseFloat(t)%360+360)%360/360}function e3(t){let e=parseFloat(t);return e<0?0:e>1?255:Math.round(255*e)}function e4(t){let e=parseFloat(t);return e<0?0:e>100?1:e/100}function e9(t){let e;let n="number"==typeof t?t>>>0===t&&t>=0&&t<=4294967295?t:null:(e=eZ.exec(t))?parseInt(e[1]+"ff",16)>>>0:eC&&void 0!==eC[t]?eC[t]:(e=eU.exec(t))?(e2(e[1])<<24|e2(e[2])<<16|e2(e[3])<<8|255)>>>0:(e=eK.exec(t))?(e2(e[1])<<24|e2(e[2])<<16|e2(e[3])<<8|e3(e[4]))>>>0:(e=eX.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=eY.exec(t))?parseInt(e[1],16)>>>0:(e=eJ.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=eQ.exec(t))?(255|e1(e5(e[1]),e4(e[2]),e4(e[3])))>>>0:(e=eW.exec(t))?(e1(e5(e[1]),e4(e[2]),e4(e[3]))|e3(e[4]))>>>0:null;if(null===n)return t;let r=(4278190080&(n=n||0))>>>24,i=(16711680&n)>>>16,o=(65280&n)>>>8,a=(255&n)/255;return`rgba(${r}, ${i}, ${o}, ${a})`}var e7=(t,e,n)=>{if(ex.fun(t))return t;if(ex.arr(t))return e7({range:t,output:e,extrapolate:n});if(ex.str(t.output[0]))return y(t);let r=t.output,i=t.range||[0,1],o=t.extrapolateLeft||t.extrapolate||"extend",a=t.extrapolateRight||t.extrapolate||"extend",s=t.easing||(t=>t);return e=>{let n=function(t,e){for(var n=1;n<e.length-1&&!(e[n]>=t);++n);return n-1}(e,i);return function(t,e,n,r,i,o,a,s,u){let c=u?u(t):t;if(c<e){if("identity"===a)return c;"clamp"===a&&(c=e)}if(c>n){if("identity"===s)return c;"clamp"===s&&(c=n)}return r===i?r:e===n?t<=e?r:i:(e===-1/0?c=-c:n===1/0?c-=e:c=(c-e)/(n-e),c=o(c),r===-1/0?c=-c:i===1/0?c+=r:c=c*(i-r)+r,c)}(e,i[n],i[n+1],r[n],r[n+1],s,o,a,t.map)}},e8=Symbol.for("FluidValue.get"),e6=Symbol.for("FluidValue.observers"),nt=t=>!!(t&&t[e8]),ne=t=>t&&t[e8]?t[e8]():t,nn=t=>t[e6]||null;function nr(t,e){let n=t[e6];n&&n.forEach(t=>{t.eventObserved?t.eventObserved(e):t(e)})}var ni=class{constructor(t){if(!t&&!(t=this.get))throw Error("Unknown getter");no(this,t)}},no=(t,e)=>nu(t,e8,e);function na(t,e){if(t[e8]){let n=t[e6];n||nu(t,e6,n=new Set),!n.has(e)&&(n.add(e),t.observerAdded&&t.observerAdded(n.size,e))}return e}function ns(t,e){let n=t[e6];if(n&&n.has(e)){let r=n.size-1;r?n.delete(e):t[e6]=null,t.observerRemoved&&t.observerRemoved(r,e)}}var nu=(t,e,n)=>Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0}),nc=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,nl=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,nd=RegExp(`(${nc.source})(%|[a-z]+)`,"i"),nf=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,nh=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,np=t=>{let[e,n]=nv(t);if(!e||eT())return t;let r=window.getComputedStyle(document.documentElement).getPropertyValue(e);if(r)return r.trim();if(n&&n.startsWith("--")){let t=window.getComputedStyle(document.documentElement).getPropertyValue(n);if(t)return t}else if(n&&nh.test(n))return np(n);else if(n)return n;return t},nv=t=>{let e=nh.exec(t);if(!e)return[,];let[,n,r]=e;return[n,r]},ny=(t,e,n,r,i)=>`rgba(${Math.round(e)}, ${Math.round(n)}, ${Math.round(r)}, ${i})`,ng=t=>{m||(m=eC?RegExp(`(${Object.keys(eC).join("|")})(?!\\w)`,"g"):/^\b$/);let e=t.output.map(t=>ne(t).replace(nh,np).replace(nl,e9).replace(m,e9)),n=e.map(t=>t.match(nc).map(Number)),r=n[0].map((t,e)=>n.map(t=>{if(!(e in t))throw Error('The arity of each "output" value must be equal');return t[e]})).map(e=>e7({...t,output:e}));return t=>{let n=!nd.test(e[0])&&e.find(t=>nd.test(t))?.replace(nc,""),i=0;return e[0].replace(nc,()=>`${r[i++](t)}${n||""}`).replace(nf,ny)}},nm="react-spring: ",nb=t=>{let e=!1;if("function"!=typeof t)throw TypeError(`${nm}once requires a function parameter`);return(...n)=>{e||(t(...n),e=!0)}},nS=nb(console.warn);function nw(){nS(`${nm}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var nx=nb(console.warn);function nE(t){return ex.str(t)&&("#"==t[0]||/\d/.test(t)||!eT()&&nh.test(t)||t in(eC||{}))}var n_=eT()?w.useEffect:w.useLayoutEffect,nO=()=>{let t=(0,w.useRef)(!1);return n_(()=>(t.current=!0,()=>{t.current=!1}),[]),t};function nk(){let t=(0,w.useState)()[1],e=nO();return()=>{e.current&&t(Math.random())}}var nP=t=>(0,w.useEffect)(t,nR),nR=[];function nT(t){let e=(0,w.useRef)();return(0,w.useEffect)(()=>{e.current=t}),e.current}var nC=Symbol.for("Animated:node"),nA=t=>!!t&&t[nC]===t,nN=t=>t&&t[nC],nj=(t,e)=>ew(t,nC,e),nD=t=>t&&t[nC]&&t[nC].getPayload(),nI=class{constructor(){nj(this,this)}getPayload(){return this.payload||[]}},nM=class extends nI{constructor(t){super(),this._value=t,this.done=!0,this.durationProgress=0,ex.num(this._value)&&(this.lastPosition=this._value)}static create(t){return new nM(t)}getPayload(){return[this]}getValue(){return this._value}setValue(t,e){return ex.num(t)&&(this.lastPosition=t,e&&(t=Math.round(t/e)*e,this.done&&(this.lastPosition=t))),this._value!==t&&(this._value=t,!0)}reset(){let{done:t}=this;this.done=!1,ex.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,t&&(this.lastVelocity=null),this.v0=null)}},nz=class extends nM{constructor(t){super(0),this._string=null,this._toString=e7({output:[t,t]})}static create(t){return new nz(t)}getValue(){let t=this._string;return null==t?this._string=this._toString(this._value):t}setValue(t){if(ex.str(t)){if(t==this._string)return!1;this._string=t,this._value=1}else{if(!super.setValue(t))return!1;this._string=null}return!0}reset(t){t&&(this._toString=e7({output:[this.getValue(),t]})),this._value=0,super.reset()}},nL={dependencies:null},nV=class extends nI{constructor(t){super(),this.source=t,this.setValue(t)}getValue(t){let e={};return eO(this.source,(n,r)=>{nA(n)?e[r]=n.getValue(t):nt(n)?e[r]=ne(n):t||(e[r]=n)}),e}setValue(t){this.source=t,this.payload=this._makePayload(t)}reset(){this.payload&&e_(this.payload,t=>t.reset())}_makePayload(t){if(t){let e=new Set;return eO(t,this._addToPayload,e),Array.from(e)}}_addToPayload(t){nL.dependencies&&nt(t)&&nL.dependencies.add(t);let e=nD(t);e&&e_(e,t=>this.add(t))}},nF=class extends nV{constructor(t){super(t)}static create(t){return new nF(t)}getValue(){return this.source.map(t=>t.getValue())}setValue(t){let e=this.getPayload();return t.length==e.length?e.map((e,n)=>e.setValue(t[n])).some(Boolean):(super.setValue(t.map(nB)),!0)}};function nB(t){return(nE(t)?nz:nM).create(t)}function nH(t){let e=nN(t);return e?e.constructor:ex.arr(t)?nF:nE(t)?nz:nM}var nG=(t,e)=>{let n=!ex.fun(t)||t.prototype&&t.prototype.isReactComponent;return(0,w.forwardRef)((r,i)=>{let o=(0,w.useRef)(null),a=n&&(0,w.useCallback)(t=>{o.current=(i&&(ex.fun(i)?i(t):i.current=t),t)},[i]),[s,u]=function(t,e){let n=new Set;return nL.dependencies=n,t.style&&(t={...t,style:e.createAnimatedStyle(t.style)}),t=new nV(t),nL.dependencies=null,[t,n]}(r,e),c=nk(),l=()=>{let t=o.current;(!n||t)&&!1===(!!t&&e.applyAnimatedValues(t,s.getValue(!0)))&&c()},d=new nq(l,u),f=(0,w.useRef)();n_(()=>(f.current=d,e_(u,t=>na(t,d)),()=>{f.current&&(e_(f.current.deps,t=>ns(t,f.current)),er.cancel(f.current.update))})),(0,w.useEffect)(l,[]),nP(()=>()=>{let t=f.current;e_(t.deps,e=>ns(e,t))});let h=e.getComponentProps(s.getValue());return w.createElement(t,{...h,ref:a})})},nq=class{constructor(t,e){this.update=t,this.deps=e}eventObserved(t){"change"==t.type&&er.write(this.update)}},n$=Symbol.for("AnimatedComponent"),nU=t=>ex.str(t)?t:t&&ex.str(t.displayName)?t.displayName:ex.fun(t)&&t.name||null;function nK(t,...e){return ex.fun(t)?t(...e):t}var nQ=(t,e)=>!0===t||!!(e&&t&&(ex.fun(t)?t(e):ek(t).includes(e))),nW=(t,e)=>ex.obj(t)?e&&t[e]:t,nX=(t,e)=>!0===t.default?t[e]:t.default?t.default[e]:void 0,nJ=t=>t,nZ=(t,e=nJ)=>{let n=nY;t.default&&!0!==t.default&&(n=Object.keys(t=t.default));let r={};for(let i of n){let n=e(t[i],i);ex.und(n)||(r[i]=n)}return r},nY=["config","onProps","onStart","onChange","onPause","onResume","onRest"],n0={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function n1(t){let e=function(t){let e={},n=0;if(eO(t,(t,r)=>{!n0[r]&&(e[r]=t,n++)}),n)return e}(t);if(e){let n={to:e};return eO(t,(t,r)=>r in e||(n[r]=t)),n}return{...t}}function n2(t){return t=ne(t),ex.arr(t)?t.map(n2):nE(t)?ee.createStringInterpolator({range:[0,1],output:[t,t]})(1):t}function n5(t){return ex.fun(t)||ex.arr(t)&&ex.obj(t[0])}var n3={default:{tension:170,friction:26}},n4={...n3.default,mass:1,damping:1,easing:t=>t,clamp:!1},n9=class{constructor(){this.velocity=0,Object.assign(this,n4)}};function n7(t,e){if(ex.und(e.decay)){let n=!ex.und(e.tension)||!ex.und(e.friction);!n&&ex.und(e.frequency)&&ex.und(e.damping)&&ex.und(e.mass)||(t.duration=void 0,t.decay=void 0),n&&(t.frequency=void 0)}else t.duration=void 0}var n8=[],n6=class{constructor(){this.changed=!1,this.values=n8,this.toValues=null,this.fromValues=n8,this.config=new n9,this.immediate=!1}};function rt(t,{key:e,props:n,defaultProps:r,state:i,actions:o}){return new Promise((a,s)=>{let u,c;let l=nQ(n.cancel??r?.cancel,e);if(l)h();else{ex.und(n.pause)||(i.paused=nQ(n.pause,e));let t=r?.pause;!0!==t&&(t=i.paused||nQ(t,e)),u=nK(n.delay||0,e),t?(i.resumeQueue.add(f),o.pause()):(o.resume(),f())}function d(){i.resumeQueue.add(f),i.timeouts.delete(c),c.cancel(),u=c.time-er.now()}function f(){u>0&&!ee.skipAnimation?(i.delayed=!0,c=er.setTimeout(h,u),i.pauseQueue.add(d),i.timeouts.add(c)):h()}function h(){i.delayed&&(i.delayed=!1),i.pauseQueue.delete(d),i.timeouts.delete(c),t<=(i.cancelId||0)&&(l=!0);try{o.start({...n,callId:t,cancel:l},a)}catch(t){s(t)}}})}var re=(t,e)=>1==e.length?e[0]:e.some(t=>t.cancelled)?ri(t.get()):e.every(t=>t.noop)?rn(t.get()):rr(t.get(),e.every(t=>t.finished)),rn=t=>({value:t,noop:!0,finished:!0,cancelled:!1}),rr=(t,e,n=!1)=>({value:t,finished:e,cancelled:n}),ri=t=>({value:t,cancelled:!0,finished:!1});function ro(t,e,n,r){let{callId:i,parentId:o,onRest:a}=e,{asyncTo:s,promise:u}=n;return o||t!==s||e.reset?n.promise=(async()=>{let c,l,d;n.asyncId=i,n.asyncTo=t;let f=nZ(e,(t,e)=>"onRest"===e?void 0:t),h=new Promise((t,e)=>(c=t,l=e)),p=t=>{let e=i<=(n.cancelId||0)&&ri(r)||i!==n.asyncId&&rr(r,!1);if(e)throw t.result=e,l(t),t},v=(t,e)=>{let o=new rs,a=new ru;return(async()=>{if(ee.skipAnimation)throw ra(n),a.result=rr(r,!1),l(a),a;p(o);let s=ex.obj(t)?{...t}:{...e,to:t};s.parentId=i,eO(f,(t,e)=>{ex.und(s[e])&&(s[e]=t)});let u=await r.start(s);return p(o),n.paused&&await new Promise(t=>{n.resumeQueue.add(t)}),u})()};if(ee.skipAnimation)return ra(n),rr(r,!1);try{let e;e=ex.arr(t)?(async t=>{for(let e of t)await v(e)})(t):Promise.resolve(t(v,r.stop.bind(r))),await Promise.all([e.then(c),h]),d=rr(r.get(),!0,!1)}catch(t){if(t instanceof rs)d=t.result;else if(t instanceof ru)d=t.result;else throw t}finally{i==n.asyncId&&(n.asyncId=o,n.asyncTo=o?s:void 0,n.promise=o?u:void 0)}return ex.fun(a)&&er.batchedUpdates(()=>{a(d,r,r.item)}),d})():u}function ra(t,e){eP(t.timeouts,t=>t.cancel()),t.pauseQueue.clear(),t.resumeQueue.clear(),t.asyncId=t.asyncTo=t.promise=void 0,e&&(t.cancelId=e)}var rs=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},ru=class extends Error{constructor(){super("SkipAnimationSignal")}},rc=t=>t instanceof rd,rl=1,rd=class extends ni{constructor(){super(...arguments),this.id=rl++,this._priority=0}get priority(){return this._priority}set priority(t){this._priority!=t&&(this._priority=t,this._onPriorityChange(t))}get(){let t=nN(this);return t&&t.getValue()}to(...t){return ee.to(this,t)}interpolate(...t){return nw(),ee.to(this,t)}toJSON(){return this.get()}observerAdded(t){1==t&&this._attach()}observerRemoved(t){0==t&&this._detach()}_attach(){}_detach(){}_onChange(t,e=!1){nr(this,{type:"change",parent:this,value:t,idle:e})}_onPriorityChange(t){this.idle||eL.sort(this),nr(this,{type:"priority",parent:this,priority:t})}},rf=Symbol.for("SpringPhase"),rh=t=>(1&t[rf])>0,rp=t=>(2&t[rf])>0,rv=t=>(4&t[rf])>0,ry=(t,e)=>e?t[rf]|=3:t[rf]&=-3,rg=(t,e)=>e?t[rf]|=4:t[rf]&=-5,rm=class extends rd{constructor(t,e){if(super(),this.animation=new n6,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!ex.und(t)||!ex.und(e)){let n=ex.obj(t)?{...t}:{...e,from:t};ex.und(n.default)&&(n.default=!0),this.start(n)}}get idle(){return!(rp(this)||this._state.asyncTo)||rv(this)}get goal(){return ne(this.animation.to)}get velocity(){let t=nN(this);return t instanceof nM?t.lastVelocity||0:t.getPayload().map(t=>t.lastVelocity||0)}get hasAnimated(){return rh(this)}get isAnimating(){return rp(this)}get isPaused(){return rv(this)}get isDelayed(){return this._state.delayed}advance(t){let e=!0,n=!1,r=this.animation,{toValues:i}=r,{config:o}=r,a=nD(r.to);!a&&nt(r.to)&&(i=ek(ne(r.to))),r.values.forEach((s,u)=>{if(s.done)return;let c=s.constructor==nz?1:a?a[u].lastPosition:i[u],l=r.immediate,d=c;if(!l){let e;if(d=s.lastPosition,o.tension<=0){s.done=!0;return}let n=s.elapsedTime+=t,i=r.fromValues[u],a=null!=s.v0?s.v0:s.v0=ex.arr(o.velocity)?o.velocity[u]:o.velocity,f=o.precision||(i==c?.005:Math.min(1,.001*Math.abs(c-i)));if(ex.und(o.duration)){if(o.decay){let t=!0===o.decay?.998:o.decay,r=Math.exp(-(1-t)*n);d=i+a/(1-t)*(1-r),l=Math.abs(s.lastPosition-d)<=f,e=a*r}else{e=null==s.lastVelocity?a:s.lastVelocity;let n=o.restVelocity||f/10,r=o.clamp?0:o.bounce,u=!ex.und(r),h=i==c?s.v0>0:i<c,p=Math.ceil(t/1);for(let t=0;t<p&&!(!(Math.abs(e)>n)&&(l=Math.abs(c-d)<=f));++t){u&&(d==c||d>c==h)&&(e=-e*r,d=c);let t=(-(1e-6*o.tension)*(d-c)+-(.001*o.friction)*e)/o.mass;e+=1*t,d+=1*e}}}else{let r=1;o.duration>0&&(this._memoizedDuration!==o.duration&&(this._memoizedDuration=o.duration,s.durationProgress>0&&(s.elapsedTime=o.duration*s.durationProgress,n=s.elapsedTime+=t)),r=(r=(o.progress||0)+n/this._memoizedDuration)>1?1:r<0?0:r,s.durationProgress=r),e=((d=i+o.easing(r)*(c-i))-s.lastPosition)/t,l=1==r}s.lastVelocity=e,Number.isNaN(d)&&(console.warn("Got NaN while animating:",this),l=!0)}a&&!a[u].done&&(l=!1),l?s.done=!0:e=!1,s.setValue(d,o.round)&&(n=!0)});let s=nN(this),u=s.getValue();if(e){let t=ne(r.to);(u!==t||n)&&!o.decay?(s.setValue(t),this._onChange(t)):n&&o.decay&&this._onChange(u),this._stop()}else n&&this._onChange(u)}set(t){return er.batchedUpdates(()=>{this._stop(),this._focus(t),this._set(t)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(rp(this)){let{to:t,config:e}=this.animation;er.batchedUpdates(()=>{this._onStart(),e.decay||this._set(t,!1),this._stop()})}return this}update(t){return(this.queue||(this.queue=[])).push(t),this}start(t,e){let n;return ex.und(t)?(n=this.queue||[],this.queue=[]):n=[ex.obj(t)?t:{...e,to:t}],Promise.all(n.map(t=>this._update(t))).then(t=>re(this,t))}stop(t){let{to:e}=this.animation;return this._focus(this.get()),ra(this._state,t&&this._lastCallId),er.batchedUpdates(()=>this._stop(e,t)),this}reset(){this._update({reset:!0})}eventObserved(t){"change"==t.type?this._start():"priority"==t.type&&(this.priority=t.priority+1)}_prepareNode(t){let e=this.key||"",{to:n,from:r}=t;(null==(n=ex.obj(n)?n[e]:n)||n5(n))&&(n=void 0),null==(r=ex.obj(r)?r[e]:r)&&(r=void 0);let i={to:n,from:r};return rh(this)||(t.reverse&&([n,r]=[r,n]),r=ne(r),ex.und(r)?nN(this)||this._set(n):this._set(r)),i}_update({...t},e){let{key:n,defaultProps:r}=this;t.default&&Object.assign(r,nZ(t,(t,e)=>/^on/.test(e)?nW(t,n):t)),r_(this,t,"onProps"),rO(this,"onProps",t,this);let i=this._prepareNode(t);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");let o=this._state;return rt(++this._lastCallId,{key:n,props:t,defaultProps:r,state:o,actions:{pause:()=>{rv(this)||(rg(this,!0),eR(o.pauseQueue),rO(this,"onPause",rr(this,rb(this,this.animation.to)),this))},resume:()=>{rv(this)&&(rg(this,!1),rp(this)&&this._resume(),eR(o.resumeQueue),rO(this,"onResume",rr(this,rb(this,this.animation.to)),this))},start:this._merge.bind(this,i)}}).then(n=>{if(t.loop&&n.finished&&!(e&&n.noop)){let e=rS(t);if(e)return this._update(e,!0)}return n})}_merge(t,e,n){if(e.cancel)return this.stop(!0),n(ri(this));let r=!ex.und(t.to),i=!ex.und(t.from);if(r||i){if(!(e.callId>this._lastToId))return n(ri(this));this._lastToId=e.callId}let{key:o,defaultProps:a,animation:s}=this,{to:u,from:c}=s,{to:l=u,from:d=c}=t;i&&!r&&(!e.default||ex.und(l))&&(l=d),e.reverse&&([l,d]=[d,l]);let f=!eE(d,c);f&&(s.from=d),d=ne(d);let h=!eE(l,u);h&&this._focus(l);let p=n5(e.to),{config:v}=s,{decay:y,velocity:g}=v;(r||i)&&(v.velocity=0),e.config&&!p&&function(t,e,n){for(let r in n&&(n7(n={...n},e),e={...n,...e}),n7(t,e),Object.assign(t,e),n4)null==t[r]&&(t[r]=n4[r]);let{frequency:r,damping:i}=t,{mass:o}=t;ex.und(r)||(r<.01&&(r=.01),i<0&&(i=0),t.tension=Math.pow(2*Math.PI/r,2)*o,t.friction=4*Math.PI*i*o/r)}(v,nK(e.config,o),e.config!==a.config?nK(a.config,o):void 0);let m=nN(this);if(!m||ex.und(l))return n(rr(this,!0));let b=ex.und(e.reset)?i&&!e.default:!ex.und(d)&&nQ(e.reset,o),S=b?d:this.get(),w=n2(l),x=ex.num(w)||ex.arr(w)||nE(w),E=!p&&(!x||nQ(a.immediate||e.immediate,o));if(h){let t=nH(l);if(t!==m.constructor){if(E)m=this._set(w);else throw Error(`Cannot animate between ${m.constructor.name} and ${t.name}, as the "to" prop suggests`)}}let _=m.constructor,O=nt(l),k=!1;if(!O){let t=b||!rh(this)&&f;(h||t)&&(O=!(k=eE(n2(S),w))),(eE(s.immediate,E)||E)&&eE(v.decay,y)&&eE(v.velocity,g)||(O=!0)}if(k&&rp(this)&&(s.changed&&!b?O=!0:O||this._stop(u)),!p&&((O||nt(u))&&(s.values=m.getPayload(),s.toValues=nt(l)?null:_==nz?[1]:ek(w)),s.immediate==E||(s.immediate=E,E||b||this._set(u)),O)){let{onRest:t}=s;e_(rE,t=>r_(this,e,t));let r=rr(this,rb(this,u));eR(this._pendingCalls,r),this._pendingCalls.add(n),s.changed&&er.batchedUpdates(()=>{s.changed=!b,t?.(r,this),b?nK(a.onRest,r):s.onStart?.(r,this)})}b&&this._set(S),p?n(ro(e.to,e,this._state,this)):O?this._start():rp(this)&&!h?this._pendingCalls.add(n):n(rn(S))}_focus(t){let e=this.animation;t!==e.to&&(nn(this)&&this._detach(),e.to=t,nn(this)&&this._attach())}_attach(){let t=0,{to:e}=this.animation;nt(e)&&(na(e,this),rc(e)&&(t=e.priority+1)),this.priority=t}_detach(){let{to:t}=this.animation;nt(t)&&ns(t,this)}_set(t,e=!0){let n=ne(t);if(!ex.und(n)){let t=nN(this);if(!t||!eE(n,t.getValue())){let r=nH(n);t&&t.constructor==r?t.setValue(n):nj(this,r.create(n)),t&&er.batchedUpdates(()=>{this._onChange(n,e)})}}return nN(this)}_onStart(){let t=this.animation;t.changed||(t.changed=!0,rO(this,"onStart",rr(this,rb(this,t.to)),this))}_onChange(t,e){e||(this._onStart(),nK(this.animation.onChange,t,this)),nK(this.defaultProps.onChange,t,this),super._onChange(t,e)}_start(){let t=this.animation;nN(this).reset(ne(t.to)),t.immediate||(t.fromValues=t.values.map(t=>t.lastPosition)),rp(this)||(ry(this,!0),rv(this)||this._resume())}_resume(){ee.skipAnimation?this.finish():eL.start(this)}_stop(t,e){if(rp(this)){ry(this,!1);let n=this.animation;e_(n.values,t=>{t.done=!0}),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),nr(this,{type:"idle",parent:this});let r=e?ri(this.get()):rr(this.get(),rb(this,t??n.to));eR(this._pendingCalls,r),n.changed&&(n.changed=!1,rO(this,"onRest",r,this))}}};function rb(t,e){let n=n2(e);return eE(n2(t.get()),n)}function rS(t,e=t.loop,n=t.to){let r=nK(e);if(r){let i=!0!==r&&n1(r),o=(i||t).reverse,a=!i||i.reset;return rw({...t,loop:e,default:!1,pause:void 0,to:!o||n5(n)?n:void 0,from:a?t.from:void 0,reset:a,...i})}}function rw(t){let{to:e,from:n}=t=n1(t),r=new Set;return ex.obj(e)&&rx(e,r),ex.obj(n)&&rx(n,r),t.keys=r.size?Array.from(r):null,t}function rx(t,e){eO(t,(t,n)=>null!=t&&e.add(n))}var rE=["onStart","onRest","onChange","onPause","onResume"];function r_(t,e,n){t.animation[n]=e[n]!==nX(e,n)?nW(e[n],t.key):void 0}function rO(t,e,...n){t.animation[e]?.(...n),t.defaultProps[e]?.(...n)}var rk=["onStart","onChange","onRest"],rP=1,rR=class{constructor(t,e){this.id=rP++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),e&&(this._flush=e),t&&this.start({default:!0,...t})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(t=>t.idle&&!t.isDelayed&&!t.isPaused)}get item(){return this._item}set item(t){this._item=t}get(){let t={};return this.each((e,n)=>t[n]=e.get()),t}set(t){for(let e in t){let n=t[e];ex.und(n)||this.springs[e].set(n)}}update(t){return t&&this.queue.push(rw(t)),this}start(t){let{queue:e}=this;return(t?e=ek(t).map(rw):this.queue=[],this._flush)?this._flush(this,e):(rI(this,e),rT(this,e))}stop(t,e){if(!!t!==t&&(e=t),e){let n=this.springs;e_(ek(e),e=>n[e].stop(!!t))}else ra(this._state,this._lastAsyncId),this.each(e=>e.stop(!!t));return this}pause(t){if(ex.und(t))this.start({pause:!0});else{let e=this.springs;e_(ek(t),t=>e[t].pause())}return this}resume(t){if(ex.und(t))this.start({pause:!1});else{let e=this.springs;e_(ek(t),t=>e[t].resume())}return this}each(t){eO(this.springs,t)}_onFrame(){let{onStart:t,onChange:e,onRest:n}=this._events,r=this._active.size>0,i=this._changed.size>0;(r&&!this._started||i&&!this._started)&&(this._started=!0,eP(t,([t,e])=>{e.value=this.get(),t(e,this,this._item)}));let o=!r&&this._started,a=i||o&&n.size?this.get():null;i&&e.size&&eP(e,([t,e])=>{e.value=a,t(e,this,this._item)}),o&&(this._started=!1,eP(n,([t,e])=>{e.value=a,t(e,this,this._item)}))}eventObserved(t){if("change"==t.type)this._changed.add(t.parent),t.idle||this._active.add(t.parent);else{if("idle"!=t.type)return;this._active.delete(t.parent)}er.onFrame(this._onFrame)}};function rT(t,e){return Promise.all(e.map(e=>rC(t,e))).then(e=>re(t,e))}async function rC(t,e,n){let{keys:r,to:i,from:o,loop:a,onRest:s,onResolve:u}=e,c=ex.obj(e.default)&&e.default;a&&(e.loop=!1),!1===i&&(e.to=null),!1===o&&(e.from=null);let l=ex.arr(i)||ex.fun(i)?i:void 0;l?(e.to=void 0,e.onRest=void 0,c&&(c.onRest=void 0)):e_(rk,n=>{let r=e[n];if(ex.fun(r)){let i=t._events[n];e[n]=({finished:t,cancelled:e})=>{let n=i.get(r);n?(t||(n.finished=!1),e&&(n.cancelled=!0)):i.set(r,{value:null,finished:t||!1,cancelled:e||!1})},c&&(c[n]=e[n])}});let d=t._state;!d.paused===e.pause?(d.paused=e.pause,eR(e.pause?d.pauseQueue:d.resumeQueue)):d.paused&&(e.pause=!0);let f=(r||Object.keys(t.springs)).map(n=>t.springs[n].start(e)),h=!0===e.cancel||!0===nX(e,"cancel");(l||h&&d.asyncId)&&f.push(rt(++t._lastAsyncId,{props:e,state:d,actions:{pause:eS,resume:eS,start(e,n){h?(ra(d,t._lastAsyncId),n(ri(t))):(e.onRest=s,n(ro(l,e,d,t)))}}})),d.paused&&await new Promise(t=>{d.resumeQueue.add(t)});let p=re(t,await Promise.all(f));if(a&&p.finished&&!(n&&p.noop)){let n=rS(e,a,i);if(n)return rI(t,[n]),rC(t,n,!0)}return u&&er.batchedUpdates(()=>u(p,t,t.item)),p}function rA(t,e){let n={...t.springs};return e&&e_(ek(e),t=>{ex.und(t.keys)&&(t=rw(t)),ex.obj(t.to)||(t={...t,to:void 0}),rD(n,t,t=>rj(t))}),rN(t,n),n}function rN(t,e){eO(e,(e,n)=>{t.springs[n]||(t.springs[n]=e,na(e,t))})}function rj(t,e){let n=new rm;return n.key=t,e&&na(n,e),n}function rD(t,e,n){e.keys&&e_(e.keys,r=>{(t[r]||(t[r]=n(r)))._prepareNode(e)})}function rI(t,e){e_(e,e=>{rD(t.springs,e,e=>rj(e,t))})}var rM=({children:t,...e})=>{let n=(0,w.useContext)(rz),r=e.pause||!!n.pause,i=e.immediate||!!n.immediate;e=function(t,e){let[n]=(0,w.useState)(()=>({inputs:e,result:t()})),r=(0,w.useRef)(),i=r.current,o=i;return o?e&&o.inputs&&function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}(e,o.inputs)||(o={inputs:e,result:t()}):o=n,(0,w.useEffect)(()=>{r.current=o,i==n&&(n.inputs=n.result=void 0)},[o]),o.result}(()=>({pause:r,immediate:i}),[r,i]);let{Provider:o}=rz;return w.createElement(o,{value:e},t)},rz=(Object.assign(rM,w.createContext({})),rM.Provider._context=rM,rM.Consumer._context=rM,rM);rM.Provider=rz.Provider,rM.Consumer=rz.Consumer;var rL=()=>{let t=[],e=function(e){nx(`${nm}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`);let r=[];return e_(t,(t,i)=>{if(ex.und(e))r.push(t.start());else{let o=n(e,t,i);o&&r.push(t.start(o))}}),r};e.current=t,e.add=function(e){t.includes(e)||t.push(e)},e.delete=function(e){let n=t.indexOf(e);~n&&t.splice(n,1)},e.pause=function(){return e_(t,t=>t.pause(...arguments)),this},e.resume=function(){return e_(t,t=>t.resume(...arguments)),this},e.set=function(e){e_(t,(t,n)=>{let r=ex.fun(e)?e(n,t):e;r&&t.set(r)})},e.start=function(e){let n=[];return e_(t,(t,r)=>{if(ex.und(e))n.push(t.start());else{let i=this._getProps(e,t,r);i&&n.push(t.start(i))}}),n},e.stop=function(){return e_(t,t=>t.stop(...arguments)),this},e.update=function(e){return e_(t,(t,n)=>t.update(this._getProps(e,t,n))),this};let n=function(t,e,n){return ex.fun(t)?t(n,e):t};return e._getProps=n,e},rV=class extends rd{constructor(t,e){super(),this.source=t,this.idle=!0,this._active=new Set,this.calc=e7(...e);let n=this._get();nj(this,nH(n).create(n))}advance(t){let e=this._get();eE(e,this.get())||(nN(this).setValue(e),this._onChange(e,this.idle)),!this.idle&&rB(this._active)&&rH(this)}_get(){let t=ex.arr(this.source)?this.source.map(ne):ek(ne(this.source));return this.calc(...t)}_start(){this.idle&&!rB(this._active)&&(this.idle=!1,e_(nD(this),t=>{t.done=!1}),ee.skipAnimation?(er.batchedUpdates(()=>this.advance()),rH(this)):eL.start(this))}_attach(){let t=1;e_(ek(this.source),e=>{nt(e)&&na(e,this),rc(e)&&(e.idle||this._active.add(e),t=Math.max(t,e.priority+1))}),this.priority=t,this._start()}_detach(){e_(ek(this.source),t=>{nt(t)&&ns(t,this)}),this._active.clear(),rH(this)}eventObserved(t){"change"==t.type?t.idle?this.advance():(this._active.add(t.parent),this._start()):"idle"==t.type?this._active.delete(t.parent):"priority"==t.type&&(this.priority=ek(this.source).reduce((t,e)=>Math.max(t,(rc(e)?e.priority:0)+1),0))}};function rF(t){return!1!==t.idle}function rB(t){return!t.size||Array.from(t).every(rF)}function rH(t){t.idle||(t.idle=!0,e_(nD(t),t=>{t.done=!0}),nr(t,{type:"idle",parent:t}))}var rG=(t,...e)=>(nw(),new rV(t,e));ee.assign({createStringInterpolator:ng,to:(t,e)=>new rV(t,e)}),eL.advance;var rq=/^--/,r$={},rU={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rK=(t,e)=>t+e.charAt(0).toUpperCase()+e.substring(1),rQ=["Webkit","Ms","Moz","O"];rU=Object.keys(rU).reduce((t,e)=>(rQ.forEach(n=>t[rK(n,e)]=t[e]),t),rU);var rW=/^(matrix|translate|scale|rotate|skew)/,rX=/^(translate)/,rJ=/^(rotate|skew)/,rZ=(t,e)=>ex.num(t)&&0!==t?t+e:t,rY=(t,e)=>ex.arr(t)?t.every(t=>rY(t,e)):ex.num(t)?t===e:parseFloat(t)===e,r0=class extends nV{constructor({x:t,y:e,z:n,...r}){let i=[],o=[];(t||e||n)&&(i.push([t||0,e||0,n||0]),o.push(t=>[`translate3d(${t.map(t=>rZ(t,"px")).join(",")})`,rY(t,0)])),eO(r,(t,e)=>{if("transform"===e)i.push([t||""]),o.push(t=>[t,""===t]);else if(rW.test(e)){if(delete r[e],ex.und(t))return;let n=rX.test(e)?"px":rJ.test(e)?"deg":"";i.push(ek(t)),o.push("rotate3d"===e?([t,e,r,i])=>[`rotate3d(${t},${e},${r},${rZ(i,n)})`,rY(i,0)]:t=>[`${e}(${t.map(t=>rZ(t,n)).join(",")})`,rY(t,e.startsWith("scale")?1:0)])}}),i.length&&(r.transform=new r1(i,o)),super(r)}},r1=class extends ni{constructor(t,e){super(),this.inputs=t,this.transforms=e,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let t="",e=!0;return e_(this.inputs,(n,r)=>{let i=ne(n[0]),[o,a]=this.transforms[r](ex.arr(i)?i:n.map(ne));t+=" "+o,e=e&&a}),e?"none":t}observerAdded(t){1==t&&e_(this.inputs,t=>e_(t,t=>nt(t)&&na(t,this)))}observerRemoved(t){0==t&&e_(this.inputs,t=>e_(t,t=>nt(t)&&ns(t,this)))}eventObserved(t){"change"==t.type&&(this._value=null),nr(this,t)}};ee.assign({batchedUpdates:E.unstable_batchedUpdates,createStringInterpolator:ng,colors:{transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199}});var r2=((t,{applyAnimatedValues:e=()=>!1,createAnimatedStyle:n=t=>new nV(t),getComponentProps:r=t=>t}={})=>{let i={applyAnimatedValues:e,createAnimatedStyle:n,getComponentProps:r},o=t=>{let e=nU(t)||"Anonymous";return(t=ex.str(t)?o[t]||(o[t]=nG(t,i)):t[n$]||(t[n$]=nG(t,i))).displayName=`Animated(${e})`,t};return eO(t,(e,n)=>{ex.arr(t)&&(n=nU(e)),o[n]=o(e)}),{animated:o}})(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],{applyAnimatedValues:function(t,e){if(!t.nodeType||!t.setAttribute)return!1;let n="filter"===t.nodeName||t.parentNode&&"filter"===t.parentNode.nodeName,{style:r,children:i,scrollTop:o,scrollLeft:a,viewBox:s,...u}=e,c=Object.values(u),l=Object.keys(u).map(e=>n||t.hasAttribute(e)?e:r$[e]||(r$[e]=e.replace(/([A-Z])/g,t=>"-"+t.toLowerCase())));for(let e in void 0!==i&&(t.textContent=i),r)if(r.hasOwnProperty(e)){var d;let n=null==(d=r[e])||"boolean"==typeof d||""===d?"":"number"!=typeof d||0===d||rq.test(e)||rU.hasOwnProperty(e)&&rU[e]?(""+d).trim():d+"px";rq.test(e)?t.style.setProperty(e,n):t.style[e]=n}l.forEach((e,n)=>{t.setAttribute(e,c[n])}),void 0!==o&&(t.scrollTop=o),void 0!==a&&(t.scrollLeft=a),void 0!==s&&t.setAttribute("viewBox",s)},createAnimatedStyle:t=>new r0(t),getComponentProps:({scrollTop:t,scrollLeft:e,...n})=>n}).animated;function r5(t,e){return t.map(function(t,n){return t+e[n]})}function r3(t,e){return t.map(function(t,n){return t-e[n]})}function r4(t){return Math.hypot.apply(Math,t)}function r9(t){return Math.sign?Math.sign(t):Number(t>0)-Number(t<0)||+t}function r7(t,e,n){return 0===e||Math.abs(e)===1/0?Math.pow(t,5*n):t*e*n/(e+n*t)}function r8(t,e,n,r){return(void 0===r&&(r=.15),0===r)?Math.max(e,Math.min(t,n)):t<e?-r7(e-t,n-e,r)+e:t>n?+r7(t-n,n-e,r)+n:t}function r6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function it(){return(it=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function ie(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function ir(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ii(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function io(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return ii(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ii(t,e)}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=t[Symbol.iterator]()).next.bind(n)}function ia(){}function is(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?ia:1===e.length?e[0]:function(){for(var t,n,r=io(e);!(n=r()).done;)t=n.value.apply(this,arguments)||t;return t}}function iu(t,e){if(void 0===t){if(void 0===e)throw Error("Must define fallback value if undefined is expected");t=e}return Array.isArray(t)?t:[t,t]}function ic(t){if("function"!=typeof t)return t;for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.apply(void 0,n)}function il(t,e){void 0===t&&(t={});for(var n={},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r],a=o[0],s=o[1];switch(typeof s){case"function":n[a]=s.call(n,t[a],a,t);break;case"object":n[a]=il(t[a],s);break;case"boolean":s&&(n[a]=t[a])}}return n}var id=it({},{threshold:function(t){return void 0===t&&(t=0),iu(t)},rubberband:function(t){switch(void 0===t&&(t=0),t){case!0:return iu(.15);case!1:return iu(0);default:return iu(t)}},enabled:function(t){return void 0===t&&(t=!0),t},triggerAllEvents:function(t){return void 0===t&&(t=!1),t},initial:function(t){return(void 0===t&&(t=0),"function"==typeof t)?t:iu(t)}},{axis:!0,lockDirection:function(t){return void 0===t&&(t=!1),t},bounds:function(t){if(void 0===t&&(t={}),"function"==typeof t)return function(e){return id.bounds(t(e))};var e=t,n=e.left,r=e.right,i=e.top,o=e.bottom;return[[void 0===n?-1/0:n,void 0===r?1/0:r],[void 0===i?-1/0:i,void 0===o?1/0:o]]}}),ih="undefined"!=typeof window&&window.document&&window.document.createElement,ip={enabled:function(t){return void 0===t&&(t=!0),t},domTarget:!0,window:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){return void 0===t&&(t=ih?window:void 0),t}),eventOptions:function(t){var e=void 0===t?{}:t,n=e.passive,r=e.capture;return{passive:void 0===n||n,capture:void 0!==r&&r}}},iv=it({},id,{threshold:function(t,e,n){var r=n.filterTaps,i=void 0!==r&&r,o=n.lockDirection,a=n.axis,s=iu(t,i?3:void 0!==o&&o?1:(void 0===a?void 0:a)?1:0);return this.filterTaps=i||s[0]+s[1]>0,s},swipeVelocity:function(t){return void 0===t&&(t=.5),iu(t)},swipeDistance:function(t){return void 0===t&&(t=60),iu(t)},delay:function(t){switch(void 0===t&&(t=0),t){case!0:return 180;case!1:return 0;default:return t}}});function iy(t){var e,n=t.domTarget,r=t.eventOptions,i=t.window,o=t.enabled,a=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)e.indexOf(n=o[r])>=0||(i[n]=t[n]);return i}(t,["domTarget","eventOptions","window","enabled"]),s=il({domTarget:n,eventOptions:r,window:i,enabled:o},ip);return s.drag=(void 0===(e=a)&&(e={}),il(e,iv)),s}function ig(t){return it({_active:!1,_blocked:!1,_intentional:[!1,!1],_movement:[0,0],_initial:[0,0],_bounds:[[-1/0,1/0],[-1/0,1/0]],_lastEventType:void 0,event:void 0,intentional:!1,values:[0,0],velocities:[0,0],delta:[0,0],movement:[0,0],offset:[0,0],lastOffset:[0,0],direction:[0,0],initial:[0,0],previous:[0,0],first:!1,last:!1,active:!1,timeStamp:0,startTime:0,elapsedTime:0,cancel:ia,canceled:!1,memo:void 0,args:void 0},t)}function im(){return{shared:{hovering:!1,scrolling:!1,wheeling:!1,dragging:!1,moving:!1,pinching:!1,touches:0,buttons:0,down:!1,shiftKey:!1,altKey:!1,metaKey:!1,ctrlKey:!1},drag:ig({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0,_isTap:!0,_delayedEvent:!1,_pointerId:void 0,tap:!1,swipe:[0,0]}),pinch:ig({da:[0,0],vdva:[0,0],origin:void 0,turns:0}),wheel:ig({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),move:ig({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),scroll:ig({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0})}}var ib=new Map,iS=function(){function t(t,e){var n=this;void 0===e&&(e=[]),this.controller=t,this.args=e,this.debounced=!0,this.setTimeout=function(t,e){var r;void 0===e&&(e=140),clearTimeout(n.controller.timeouts[n.stateKey]);for(var i=arguments.length,o=Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];n.controller.timeouts[n.stateKey]=(r=window).setTimeout.apply(r,[t,e].concat(o))},this.clearTimeout=function(){clearTimeout(n.controller.timeouts[n.stateKey])},this.fireGestureHandler=function(t){if(void 0===t&&(t=!1),n.state._blocked)return n.debounced||(n.state._active=!1,n.clean()),null;if(!t&&!n.state.intentional&&!n.config.triggerAllEvents)return null;if(n.state.intentional){var e=n.state.active,r=n.state._active;n.state.active=r,n.state.first=r&&!e,n.state.last=e&&!r,n.controller.state.shared[n.ingKey]=r}var i=it({},n.controller.state.shared,n.state,n.mapStateValues(n.state)),o=n.handler(i);return n.state.memo=void 0!==o?o:n.state.memo,n.state._active||n.clean(),i}}var e,n=t.prototype;return n.updateSharedState=function(t){Object.assign(this.controller.state.shared,t)},n.updateGestureState=function(t){Object.assign(this.state,t)},n.checkIntentionality=function(t,e){return{_intentional:t,_blocked:!1}},n.getMovement=function(t){var e,n,r,i,o=this.config,a=o.initial,s=o.bounds,u=o.rubberband,c=o.threshold,l=this.state,d=l._bounds,f=l._initial,h=l._active,p=l._intentional,v=l.lastOffset,y=l.movement,g=this.getInternalMovement(t,this.state),m=!1===p[0]?iw(g[0],c[0]):p[0],b=!1===p[1]?iw(g[1],c[1]):p[1],S=this.checkIntentionality([m,b],g);if(S._blocked)return it({},S,{_movement:g,delta:[0,0]});var w=S._intentional;!1!==w[0]&&!1===p[0]&&(n=ic(a,this.state),e=ic(s,this.state),f[0]=n[0],d[0]=e[0]),!1!==w[1]&&!1===p[1]&&(n=null!=(r=n)?r:ic(a,this.state),e=null!=(i=e)?i:ic(s,this.state),f[1]=n[1],d[1]=e[1]);var x=[!1!==w[0]?g[0]-w[0]:f[0],!1!==w[1]?g[1]-w[1]:f[1]],E=r5(x,v),_=h?u:[0,0];return x=ix(d,r5(x,f),_),it({},S,{intentional:!1!==w[0]||!1!==w[1],_initial:f,_movement:g,movement:x,values:t,offset:ix(d,E,_),delta:r3(x,y)})},n.clean=function(){this.clearTimeout()},r6(t.prototype,[{key:"config",get:function(){return this.controller.config[this.stateKey]}},{key:"enabled",get:function(){return this.controller.config.enabled&&this.config.enabled}},{key:"state",get:function(){return this.controller.state[this.stateKey]}},{key:"handler",get:function(){return this.controller.handlers[this.stateKey]}}]),e&&r6(t,e),t}();function iw(t,e){return Math.abs(t)>=e&&r9(t)*e}function ix(t,e,n){var r=e[0],i=e[1],o=n[0],a=n[1],s=t[0],u=s[0],c=s[1],l=t[1],d=l[0],f=l[1];return[r8(r,u,c,o),r8(i,d,f,a)]}function iE(t,e,n){var r=t.state,i=t.args,o=e.timeStamp,a=e.type,s=r.values,u=n?0:o-r.startTime;return{_lastEventType:a,event:e,timeStamp:o,elapsedTime:u,args:i,previous:s}}var i_=function(t){var e=this;this.classes=t,this.bind=function(){for(var t={},n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];for(var o,a=io(e.classes);!(o=a()).done;)new o.value(e,r).addBindings(t);for(var s=0,u=Object.entries(e.nativeRefs);s<u.length;s++){var c=u[s];iP(t,c[0],function(t,e){return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return t.call.apply(t,[this,it({},e,{event:n})].concat(i))}}(c[1],it({},e.state.shared,{args:r})))}return e.config.domTarget?function(t,e){var n=t.config,r=t.domListeners,i=ik(n);if(!i)throw Error("domTarget must be defined");var o=n.eventOptions;iT(i,iO(r),o);for(var a=0,s=Object.entries(e);a<s.length;a++){var u=s[a],c=u[0],l=u[1],d=c.slice(2).toLowerCase();r.push([d,is.apply(void 0,l)])}iR(i,r,o)}(e,t):function(t,e){for(var n=t.config,r={},i=n.eventOptions.capture?"Capture":"",o=0,a=Object.entries(e);o<a.length;o++){var s=a[o],u=s[0],c=s[1],l=Array.isArray(c)?c:[c];r[u+i]=is.apply(void 0,l)}return r}(e,t)},this.effect=function(){return e.config.domTarget&&e.bind(),e.clean},this.clean=function(){var t=ik(e.config),n=e.config.eventOptions;t&&iT(t,iO(e.domListeners),n),Object.values(e.timeouts).forEach(clearTimeout),function(t){var e=t.config,n=e.window,r=e.eventOptions,i=t.windowListeners;if(n){for(var o in i)iT(n,i[o],r);t.windowListeners={}}}(e)},this.state=im(),this.timeouts={},this.domListeners=[],this.windowListeners={}};function iO(t){return void 0===t&&(t=[]),t.splice(0,t.length)}function ik(t){var e=t.domTarget;return e&&"current"in e?e.current:e}function iP(t,e,n){t[e]||(t[e]=[]),t[e].push(n)}function iR(t,e,n){void 0===e&&(e=[]),void 0===n&&(n={});for(var r,i=io(e);!(r=i()).done;){var o=r.value,a=o[0],s=o[1];t.addEventListener(a,s,n)}}function iT(t,e,n){void 0===e&&(e=[]),void 0===n&&(n={});for(var r,i=io(e);!(r=i()).done;){var o=r.value,a=o[0],s=o[1];t.removeEventListener(a,s,n)}}function iC(){}function iA(t){if("touches"in t){var e=t.targetTouches,n=t.changedTouches;return e.length>0?e:n}return null}function iN(t){var e="buttons"in t?t.buttons:0,n=iA(t),r=n&&n.length||0;return{touches:r,down:r>0||e>0,buttons:e,shiftKey:t.shiftKey,altKey:t.altKey,metaKey:t.metaKey,ctrlKey:t.ctrlKey}}function ij(t){var e=iA(t),n=e?e[0]:t;return[n.clientX,n.clientY]}var iD=function(t){function e(){var e;return e=t.apply(this,arguments)||this,e.ingKey="dragging",e.stateKey="drag",e.onDragStart=function(t){if(e.enabled&&!e.state._active){var n,r,i,o,a;n=e.controller,r=e.stateKey,i=[["pointermove",e.onDragChange],["pointerup",e.onDragEnd],["pointercancel",e.onDragEnd]],o=n.config,a=n.windowListeners,void 0===i&&(i=[]),o.window&&(iT(o.window,a[r],o.eventOptions),iR(o.window,a[r]=i,o.eventOptions)),e.updateGestureState({_pointerId:t.pointerId}),e.config.delay>0?(e.state._delayedEvent=!0,"persist"in t&&"function"==typeof t.persist&&t.persist(),e.setTimeout(e.startDrag.bind(ir(e)),e.config.delay,t)):e.startDrag(t)}},e.onDragChange=function(t){if(!e.state.canceled&&t.pointerId===e.state._pointerId){if(!e.state._active){e.state._delayedEvent&&(e.clearTimeout(),e.startDrag(t));return}var n=iN(t);if(!n.down){e.onDragEnd(t);return}e.updateSharedState(n);var r=ij(t),i=e.getKinematics(r,t),o=iE(ir(e),t),a=e.state._isTap,s=r4(i._movement);a&&s>=3&&(a=!1),e.updateGestureState(it({},o,i,{_isTap:a})),e.fireGestureHandler()}},e.onDragEnd=function(t){if(t.pointerId===e.state._pointerId){e.state._active=!1,e.updateSharedState({down:!1,buttons:0,touches:0});var n=e.state._isTap,r=e.state.velocities,i=r[0],o=r[1],a=e.state.movement,s=a[0],u=a[1],c=e.state._intentional,l=c[0],d=c[1],f=e.config.swipeVelocity,h=f[0],p=f[1],v=e.config.swipeDistance,y=v[0],g=v[1],m=it({},iE(ir(e),t),e.getMovement(e.state.values)),b=[0,0];m.elapsedTime<220&&(!1!==l&&Math.abs(i)>h&&Math.abs(s)>y&&(b[0]=r9(i)),!1!==d&&Math.abs(o)>p&&Math.abs(u)>g&&(b[1]=r9(o))),e.updateGestureState(it({},m,{tap:n,swipe:b})),e.fireGestureHandler(!0===n)}},e.clean=function(){var n,r,i,o;t.prototype.clean.call(ir(e)),e.state._delayedEvent=!1,n=e.controller,r=e.stateKey,i=n.config,o=n.windowListeners,i.window&&(iT(i.window,o[r],i.eventOptions),delete o[r])},e.onCancel=function(){e.state.canceled||(e.updateGestureState({canceled:!0}),e.state._active=!1,e.updateSharedState({down:!1,buttons:0,touches:0}),requestAnimationFrame(function(){return e.fireGestureHandler()}))},e.onClick=function(t){e.state._isTap||t.stopPropagation()},e}ie(e,t);var n=e.prototype;return n.startDrag=function(t){var e,n,r=ij(t);this.updateSharedState(iN(t)),this.updateGestureState(it({},(e=this.state.offset,n=t.timeStamp,it({},im()[this.stateKey],{_active:!0,values:r,initial:r,offset:e,lastOffset:e,startTime:n})),iE(this,t,!0),{_pointerId:t.pointerId,cancel:this.onCancel})),this.updateGestureState(this.getMovement(r)),this.fireGestureHandler()},n.addBindings=function(t){iP(t,"onPointerDown",this.onDragStart),this.config.filterTaps&&iP(t,this.controller.config.eventOptions.capture?"onClick":"onClickCapture",this.onClick)},e}(function(t){function e(){return t.apply(this,arguments)||this}ie(e,t);var n=e.prototype;return n.getInternalMovement=function(t,e){return r3(t,e.initial)},n.checkIntentionality=function(t,e){if(!1===t[0]&&!1===t[1])return{_intentional:t,axis:this.state.axis};var n=e.map(Math.abs),r=n[0],i=n[1],o=this.state.axis||(r>i?"x":r<i?"y":void 0);return this.config.axis||this.config.lockDirection?o?this.config.axis&&o!==this.config.axis?{_intentional:t,_blocked:!0,axis:o}:(t["x"===o?1:0]=!1,{_intentional:t,_blocked:!1,axis:o}):{_intentional:[!1,!1],_blocked:!1,axis:o}:{_intentional:t,_blocked:!1,axis:o}},n.getKinematics=function(t,e){var n=this.getMovement(t);if(!n._blocked){var r,i,o,a,s,u,c,l=e.timeStamp-this.state.timeStamp;Object.assign(n,(r=n.movement,a=0===(o=r4(i=n.delta))?0:1/o,s=0===l?0:1/l,u=i.map(function(t){return s*t}),c=i.map(function(t){return a*t}),{velocities:u,velocity:s*o,distance:r4(r),direction:c}))}return n},n.mapStateValues=function(t){return{xy:t.values,vxvy:t.velocities}},e}(iS)),iI=["input","select","textarea","a[href]","button","[tabindex]:not(slot)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],iM=iI.join(","),iz="undefined"==typeof Element,iL=iz?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,iV=!iz&&Element.prototype.getRootNode?function(t){return t.getRootNode()}:function(t){return t.ownerDocument},iF=function(t,e,n){var r=Array.prototype.slice.apply(t.querySelectorAll(iM));return e&&iL.call(t,iM)&&r.unshift(t),r=r.filter(n)},iB=function t(e,n,r){for(var i=[],o=Array.from(e);o.length;){var a=o.shift();if("SLOT"===a.tagName){var s=a.assignedElements(),u=t(s.length?s:a.children,!0,r);r.flatten?i.push.apply(i,u):i.push({scope:a,candidates:u})}else{iL.call(a,iM)&&r.filter(a)&&(n||!e.includes(a))&&i.push(a);var c=a.shadowRoot||"function"==typeof r.getShadowRoot&&r.getShadowRoot(a),l=!r.shadowRootFilter||r.shadowRootFilter(a);if(c&&l){var d=t(!0===c?a.children:c.children,!0,r);r.flatten?i.push.apply(i,d):i.push({scope:a,candidates:d})}else o.unshift.apply(o,a.children)}}return i},iH=function(t,e){return t.tabIndex<0&&(e||/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||t.isContentEditable)&&isNaN(parseInt(t.getAttribute("tabindex"),10))?0:t.tabIndex},iG=function(t,e){return t.tabIndex===e.tabIndex?t.documentOrder-e.documentOrder:t.tabIndex-e.tabIndex},iq=function(t){return"INPUT"===t.tagName},i$=function(t,e){for(var n=0;n<t.length;n++)if(t[n].checked&&t[n].form===e)return t[n]},iU=function(t){if(!t.name)return!0;var e,n=t.form||iV(t),r=function(t){return n.querySelectorAll('input[type="radio"][name="'+t+'"]')};if("undefined"!=typeof window&&void 0!==window.CSS&&"function"==typeof window.CSS.escape)e=r(window.CSS.escape(t.name));else try{e=r(t.name)}catch(t){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",t.message),!1}var i=i$(e,t.form);return!i||i===t},iK=function(t){var e=t.getBoundingClientRect(),n=e.width,r=e.height;return 0===n&&0===r},iQ=function(t,e){var n=e.displayCheck,r=e.getShadowRoot;if("hidden"===getComputedStyle(t).visibility)return!0;var i=iL.call(t,"details>summary:first-of-type")?t.parentElement:t;if(iL.call(i,"details:not([open]) *"))return!0;var o=iV(t).host,a=(null==o?void 0:o.ownerDocument.contains(o))||t.ownerDocument.contains(t);if(n&&"full"!==n){if("non-zero-area"===n)return iK(t)}else{if("function"==typeof r){for(var s=t;t;){var u=t.parentElement,c=iV(t);if(u&&!u.shadowRoot&&!0===r(u))return iK(t);t=t.assignedSlot?t.assignedSlot:u||c===t.ownerDocument?u:c.host}t=s}if(a)return!t.getClientRects().length}return!1},iW=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var e=t.parentElement;e;){if("FIELDSET"===e.tagName&&e.disabled){for(var n=0;n<e.children.length;n++){var r=e.children.item(n);if("LEGEND"===r.tagName)return!!iL.call(e,"fieldset[disabled] *")||!r.contains(t)}return!0}e=e.parentElement}return!1},iX=function(t,e){return!(e.disabled||iq(e)&&"hidden"===e.type||iQ(e,t)||"DETAILS"===e.tagName&&Array.prototype.slice.apply(e.children).some(function(t){return"SUMMARY"===t.tagName})||iW(e))},iJ=function(t,e){var n;return!(iq(n=e)&&"radio"===n.type&&!iU(n)||0>iH(e))&&!!iX(t,e)},iZ=function(t){var e=parseInt(t.getAttribute("tabindex"),10);return!!isNaN(e)||e>=0},iY=function t(e){var n=[],r=[];return e.forEach(function(e,i){var o=!!e.scope,a=o?e.scope:e,s=iH(a,o),u=o?t(e.candidates):a;0===s?o?n.push.apply(n,u):n.push(a):r.push({documentOrder:i,tabIndex:s,item:e,isScope:o,content:u})}),r.sort(iG).reduce(function(t,e){return e.isScope?t.push.apply(t,e.content):t.push(e.content),t},[]).concat(n)},i0=function(t,e){if(e=e||{},!t)throw Error("No node provided");return!1!==iL.call(t,iM)&&iJ(e,t)},i1=iI.concat("iframe").join(","),i2=function(t,e){if(e=e||{},!t)throw Error("No node provided");return!1!==iL.call(t,i1)&&iX(e,t)};/*!
* focus-trap 6.9.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function i5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function i3(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i5(Object(n),!0).forEach(function(e){var r;r=n[e],e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i5(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var i4=(s=[],{activateTrap:function(t){if(s.length>0){var e=s[s.length-1];e!==t&&e.pause()}var n=s.indexOf(t);-1===n||s.splice(n,1),s.push(t)},deactivateTrap:function(t){var e=s.indexOf(t);-1!==e&&s.splice(e,1),s.length>0&&s[s.length-1].unpause()}}),i9=function(t){return setTimeout(t,0)},i7=function(t,e){var n=-1;return t.every(function(t,r){return!e(t)||(n=r,!1)}),n},i8=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return"function"==typeof t?t.apply(void 0,n):t},i6=function(t){return t.target.shadowRoot&&"function"==typeof t.composedPath?t.composedPath()[0]:t.target},ot=function(t,e){var n,r=(null==e?void 0:e.document)||document,i=i3({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0},e),o={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0},a=function(t,e,n){return t&&void 0!==t[e]?t[e]:i[n||e]},s=function(t){return o.containerGroups.findIndex(function(e){var n=e.container,r=e.tabbableNodes;return n.contains(t)||r.find(function(e){return e===t})})},u=function(t){var e=i[t];if("function"==typeof e){for(var n=arguments.length,o=Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];e=e.apply(void 0,o)}if(!0===e&&(e=void 0),!e){if(void 0===e||!1===e)return e;throw Error("`".concat(t,"` was specified but was not a node, or did not return a node"))}var s=e;if("string"==typeof e&&!(s=r.querySelector(e)))throw Error("`".concat(t,"` as selector refers to no known node"));return s},c=function(){var t=u("initialFocus");if(!1===t)return!1;if(void 0===t){if(s(r.activeElement)>=0)t=r.activeElement;else{var e=o.tabbableGroups[0];t=e&&e.firstTabbableNode||u("fallbackFocus")}}if(!t)throw Error("Your focus-trap needs to have at least one focusable element");return t},l=function(){if(o.containerGroups=o.containers.map(function(t){var e,n,r,o,a=(e=t,iY((n=(n=i.tabbableOptions)||{}).getShadowRoot?iB([e],n.includeContainer,{filter:iJ.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:iZ}):iF(e,n.includeContainer,iJ.bind(null,n)))),s=(r=t,(o=(o=i.tabbableOptions)||{}).getShadowRoot?iB([r],o.includeContainer,{filter:iX.bind(null,o),flatten:!0,getShadowRoot:o.getShadowRoot}):iF(r,o.includeContainer,iX.bind(null,o)));return{container:t,tabbableNodes:a,focusableNodes:s,firstTabbableNode:a.length>0?a[0]:null,lastTabbableNode:a.length>0?a[a.length-1]:null,nextTabbableNode:function(t){var e=!(arguments.length>1)||void 0===arguments[1]||arguments[1],n=s.findIndex(function(e){return e===t});return n<0?void 0:e?s.slice(n+1).find(function(t){return i0(t,i.tabbableOptions)}):s.slice(0,n).reverse().find(function(t){return i0(t,i.tabbableOptions)})}}}),o.tabbableGroups=o.containerGroups.filter(function(t){return t.tabbableNodes.length>0}),o.tabbableGroups.length<=0&&!u("fallbackFocus"))throw Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times")},d=function t(e){if(!1!==e&&e!==r.activeElement){if(!e||!e.focus){t(c());return}e.focus({preventScroll:!!i.preventScroll}),o.mostRecentlyFocusedNode=e,e.tagName&&"input"===e.tagName.toLowerCase()&&"function"==typeof e.select&&e.select()}},f=function(t){var e=u("setReturnFocus",t);return e||!1!==e&&t},h=function(t){var e=i6(t);if(!(s(e)>=0)){if(i8(i.clickOutsideDeactivates,t)){n.deactivate({returnFocus:i.returnFocusOnDeactivate&&!i2(e,i.tabbableOptions)});return}i8(i.allowOutsideClick,t)||t.preventDefault()}},p=function(t){var e=i6(t),n=s(e)>=0;n||e instanceof Document?n&&(o.mostRecentlyFocusedNode=e):(t.stopImmediatePropagation(),d(o.mostRecentlyFocusedNode||c()))},v=function(t){var e=i6(t);l();var n=null;if(o.tabbableGroups.length>0){var r=s(e),a=r>=0?o.containerGroups[r]:void 0;if(r<0)n=t.shiftKey?o.tabbableGroups[o.tabbableGroups.length-1].lastTabbableNode:o.tabbableGroups[0].firstTabbableNode;else if(t.shiftKey){var c=i7(o.tabbableGroups,function(t){return e===t.firstTabbableNode});if(c<0&&(a.container===e||i2(e,i.tabbableOptions)&&!i0(e,i.tabbableOptions)&&!a.nextTabbableNode(e,!1))&&(c=r),c>=0){var f=0===c?o.tabbableGroups.length-1:c-1;n=o.tabbableGroups[f].lastTabbableNode}}else{var h=i7(o.tabbableGroups,function(t){return e===t.lastTabbableNode});if(h<0&&(a.container===e||i2(e,i.tabbableOptions)&&!i0(e,i.tabbableOptions)&&!a.nextTabbableNode(e))&&(h=r),h>=0){var p=h===o.tabbableGroups.length-1?0:h+1;n=o.tabbableGroups[p].firstTabbableNode}}}else n=u("fallbackFocus");n&&(t.preventDefault(),d(n))},y=function(t){if(("Escape"===t.key||"Esc"===t.key||27===t.keyCode)&&!1!==i8(i.escapeDeactivates,t)){t.preventDefault(),n.deactivate();return}if("Tab"===t.key||9===t.keyCode){v(t);return}},g=function(t){s(i6(t))>=0||i8(i.clickOutsideDeactivates,t)||i8(i.allowOutsideClick,t)||(t.preventDefault(),t.stopImmediatePropagation())},m=function(){if(o.active)return i4.activateTrap(n),o.delayInitialFocusTimer=i.delayInitialFocus?i9(function(){d(c())}):d(c()),r.addEventListener("focusin",p,!0),r.addEventListener("mousedown",h,{capture:!0,passive:!1}),r.addEventListener("touchstart",h,{capture:!0,passive:!1}),r.addEventListener("click",g,{capture:!0,passive:!1}),r.addEventListener("keydown",y,{capture:!0,passive:!1}),n},b=function(){if(o.active)return r.removeEventListener("focusin",p,!0),r.removeEventListener("mousedown",h,!0),r.removeEventListener("touchstart",h,!0),r.removeEventListener("click",g,!0),r.removeEventListener("keydown",y,!0),n};return(n={get active(){return o.active},get paused(){return o.paused},activate:function(t){if(o.active)return this;var e=a(t,"onActivate"),n=a(t,"onPostActivate"),i=a(t,"checkCanFocusTrap");i||l(),o.active=!0,o.paused=!1,o.nodeFocusedBeforeActivation=r.activeElement,e&&e();var s=function(){i&&l(),m(),n&&n()};return i?i(o.containers.concat()).then(s,s):s(),this},deactivate:function(t){if(!o.active)return this;var e=i3({onDeactivate:i.onDeactivate,onPostDeactivate:i.onPostDeactivate,checkCanReturnFocus:i.checkCanReturnFocus},t);clearTimeout(o.delayInitialFocusTimer),o.delayInitialFocusTimer=void 0,b(),o.active=!1,o.paused=!1,i4.deactivateTrap(n);var r=a(e,"onDeactivate"),s=a(e,"onPostDeactivate"),u=a(e,"checkCanReturnFocus"),c=a(e,"returnFocus","returnFocusOnDeactivate");r&&r();var l=function(){i9(function(){c&&d(f(o.nodeFocusedBeforeActivation)),s&&s()})};return c&&u?u(f(o.nodeFocusedBeforeActivation)).then(l,l):l(),this},pause:function(){return o.paused||!o.active||(o.paused=!0,b()),this},unpause:function(){return o.paused&&o.active&&(o.paused=!1,l(),m()),this},updateContainerElements:function(t){var e=[].concat(t).filter(Boolean);return o.containers=e.map(function(t){return"string"==typeof t?r.querySelector(t):t}),o.active&&l(),this}}).updateContainerElements(t),n},oe=!1;if("undefined"!=typeof window){var on={get passive(){oe=!0;return}};window.addEventListener("testPassive",null,on),window.removeEventListener("testPassive",null,on)}var or="undefined"!=typeof window&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||"MacIntel"===window.navigator.platform&&window.navigator.maxTouchPoints>1),oi=[],oo=!1,oa=-1,os=void 0,ou=void 0,oc=function(t){return oi.some(function(e){return!!(e.options.allowTouchMove&&e.options.allowTouchMove(t))})},ol=function(t){var e=t||window.event;return!!oc(e.target)||e.touches.length>1||(e.preventDefault&&e.preventDefault(),!1)},od=function(t){if(void 0===ou){var e=!!t&&!0===t.reserveScrollBarGap,n=window.innerWidth-document.documentElement.clientWidth;e&&n>0&&(ou=document.body.style.paddingRight,document.body.style.paddingRight=n+"px")}void 0===os&&(os=document.body.style.overflow,document.body.style.overflow="hidden")},of=function(){void 0!==ou&&(document.body.style.paddingRight=ou,ou=void 0),void 0!==os&&(document.body.style.overflow=os,os=void 0)},oh=function(t,e){var n=t.targetTouches[0].clientY-oa;return!oc(t.target)&&(e&&0===e.scrollTop&&n>0?ol(t):e&&e.scrollHeight-e.scrollTop<=e.clientHeight&&n<0?ol(t):(t.stopPropagation(),!0))},op=function(t,e){if(!t){console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");return}!oi.some(function(e){return e.targetElement===t})&&(oi=[].concat(function(t){if(!Array.isArray(t))return Array.from(t);for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}(oi),[{targetElement:t,options:e||{}}]),or?(t.ontouchstart=function(t){1===t.targetTouches.length&&(oa=t.targetTouches[0].clientY)},t.ontouchmove=function(e){1===e.targetTouches.length&&oh(e,t)},oo||(document.addEventListener("touchmove",ol,oe?{passive:!1}:void 0),oo=!0)):od(e))},ov=function(t){if(!t){console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");return}oi=oi.filter(function(e){return e.targetElement!==t}),or?(t.ontouchstart=null,t.ontouchmove=null,oo&&0===oi.length&&(document.removeEventListener("touchmove",ol,oe?{passive:!1}:void 0),oo=!1)):oi.length||of()},oy=[],og="ResizeObserver loop completed with undelivered notifications.",om=function(){var t;"function"==typeof ErrorEvent?t=new ErrorEvent("error",{message:og}):((t=document.createEvent("Event")).initEvent("error",!1,!1),t.message=og),window.dispatchEvent(t)};(u=b||(b={})).BORDER_BOX="border-box",u.CONTENT_BOX="content-box",u.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box";var ob=function(t){return Object.freeze(t)},oS=function(t,e){this.inlineSize=t,this.blockSize=e,ob(this)},ow=function(){function t(t,e,n,r){return this.x=t,this.y=e,this.width=n,this.height=r,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,ob(this)}return t.prototype.toJSON=function(){return{x:this.x,y:this.y,top:this.top,right:this.right,bottom:this.bottom,left:this.left,width:this.width,height:this.height}},t.fromRect=function(e){return new t(e.x,e.y,e.width,e.height)},t}(),ox=function(t){return t instanceof SVGElement&&"getBBox"in t},oE=function(t){if(ox(t)){var e=t.getBBox(),n=e.width,r=e.height;return!n&&!r}var i=t.offsetWidth,o=t.offsetHeight;return!(i||o||t.getClientRects().length)},o_=function(t){if(t instanceof Element)return!0;var e,n=null===(e=null==t?void 0:t.ownerDocument)||void 0===e?void 0:e.defaultView;return!!(n&&t instanceof n.Element)},oO=function(t){switch(t.tagName){case"INPUT":if("image"!==t.type)break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},ok="undefined"!=typeof window?window:{},oP=new WeakMap,oR=/auto|scroll/,oT=/^tb|vertical/,oC=/msie|trident/i.test(ok.navigator&&ok.navigator.userAgent),oA=function(t){return parseFloat(t||"0")},oN=function(t,e,n){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=!1),new oS((n?e:t)||0,(n?t:e)||0)},oj=ob({devicePixelContentBoxSize:oN(),borderBoxSize:oN(),contentBoxSize:oN(),contentRect:new ow(0,0,0,0)}),oD=function(t,e){if(void 0===e&&(e=!1),oP.has(t)&&!e)return oP.get(t);if(oE(t))return oP.set(t,oj),oj;var n=getComputedStyle(t),r=ox(t)&&t.ownerSVGElement&&t.getBBox(),i=!oC&&"border-box"===n.boxSizing,o=oT.test(n.writingMode||""),a=!r&&oR.test(n.overflowY||""),s=!r&&oR.test(n.overflowX||""),u=r?0:oA(n.paddingTop),c=r?0:oA(n.paddingRight),l=r?0:oA(n.paddingBottom),d=r?0:oA(n.paddingLeft),f=r?0:oA(n.borderTopWidth),h=r?0:oA(n.borderRightWidth),p=r?0:oA(n.borderBottomWidth),v=r?0:oA(n.borderLeftWidth),y=d+c,g=u+l,m=v+h,b=f+p,S=s?t.offsetHeight-b-t.clientHeight:0,w=a?t.offsetWidth-m-t.clientWidth:0,x=r?r.width:oA(n.width)-(i?y+m:0)-w,E=r?r.height:oA(n.height)-(i?g+b:0)-S,_=x+y+w+m,O=E+g+S+b,k=ob({devicePixelContentBoxSize:oN(Math.round(x*devicePixelRatio),Math.round(E*devicePixelRatio),o),borderBoxSize:oN(_,O,o),contentBoxSize:oN(x,E,o),contentRect:new ow(d,u,x,E)});return oP.set(t,k),k},oI=function(t,e,n){var r=oD(t,n),i=r.borderBoxSize,o=r.contentBoxSize,a=r.devicePixelContentBoxSize;switch(e){case b.DEVICE_PIXEL_CONTENT_BOX:return a;case b.BORDER_BOX:return i;default:return o}},oM=function(t){var e=oD(t);this.target=t,this.contentRect=e.contentRect,this.borderBoxSize=ob([e.borderBoxSize]),this.contentBoxSize=ob([e.contentBoxSize]),this.devicePixelContentBoxSize=ob([e.devicePixelContentBoxSize])},oz=function(t){if(oE(t))return 1/0;for(var e=0,n=t.parentNode;n;)e+=1,n=n.parentNode;return e},oL=function(){var t=1/0,e=[];oy.forEach(function(n){if(0!==n.activeTargets.length){var r=[];n.activeTargets.forEach(function(e){var n=new oM(e.target),i=oz(e.target);r.push(n),e.lastReportedSize=oI(e.target,e.observedBox),i<t&&(t=i)}),e.push(function(){n.callback.call(n.observer,r,n.observer)}),n.activeTargets.splice(0,n.activeTargets.length)}});for(var n=0;n<e.length;n++)(0,e[n])();return t},oV=function(t){oy.forEach(function(e){e.activeTargets.splice(0,e.activeTargets.length),e.skippedTargets.splice(0,e.skippedTargets.length),e.observationTargets.forEach(function(n){n.isActive()&&(oz(n.target)>t?e.activeTargets.push(n):e.skippedTargets.push(n))})})},oF=function(){var t=0;for(oV(0);oy.some(function(t){return t.activeTargets.length>0});)oV(t=oL());return oy.some(function(t){return t.skippedTargets.length>0})&&om(),t>0},oB=[],oH=function(t){if(!S){var e=0,n=document.createTextNode("");new MutationObserver(function(){return oB.splice(0).forEach(function(t){return t()})}).observe(n,{characterData:!0}),S=function(){n.textContent="".concat(e?e--:e++)}}oB.push(t),S()},oG=function(t){oH(function(){requestAnimationFrame(t)})},oq=0,o$={attributes:!0,characterData:!0,childList:!0,subtree:!0},oU=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],oK=function(t){return void 0===t&&(t=0),Date.now()+t},oQ=!1,oW=new(function(){function t(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return t.prototype.run=function(t){var e=this;if(void 0===t&&(t=250),!oQ){oQ=!0;var n=oK(t);oG(function(){var r=!1;try{r=oF()}finally{if(oQ=!1,t=n-oK(),!oq)return;r?e.run(1e3):t>0?e.run(t):e.start()}})}},t.prototype.schedule=function(){this.stop(),this.run()},t.prototype.observe=function(){var t=this,e=function(){return t.observer&&t.observer.observe(document.body,o$)};document.body?e():ok.addEventListener("DOMContentLoaded",e)},t.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),oU.forEach(function(e){return ok.addEventListener(e,t.listener,!0)}))},t.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),oU.forEach(function(e){return ok.removeEventListener(e,t.listener,!0)}),this.stopped=!0)},t}()),oX=function(t){!oq&&t>0&&oW.start(),(oq+=t)||oW.stop()},oJ=function(){function t(t,e){this.target=t,this.observedBox=e||b.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return t.prototype.isActive=function(){var t,e=oI(this.target,this.observedBox,!0);return ox(t=this.target)||oO(t)||"inline"!==getComputedStyle(t).display||(this.lastReportedSize=e),this.lastReportedSize.inlineSize!==e.inlineSize||this.lastReportedSize.blockSize!==e.blockSize},t}(),oZ=function(t,e){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=e},oY=new WeakMap,o0=function(t,e){for(var n=0;n<t.length;n+=1)if(t[n].target===e)return n;return -1},o1=function(){function t(){}return t.connect=function(t,e){var n=new oZ(t,e);oY.set(t,n)},t.observe=function(t,e,n){var r=oY.get(t),i=0===r.observationTargets.length;0>o0(r.observationTargets,e)&&(i&&oy.push(r),r.observationTargets.push(new oJ(e,n&&n.box)),oX(1),oW.schedule())},t.unobserve=function(t,e){var n=oY.get(t),r=o0(n.observationTargets,e),i=1===n.observationTargets.length;r>=0&&(i&&oy.splice(oy.indexOf(n),1),n.observationTargets.splice(r,1),oX(-1))},t.disconnect=function(t){var e=this,n=oY.get(t);n.observationTargets.slice().forEach(function(n){return e.unobserve(t,n.target)}),n.activeTargets.splice(0,n.activeTargets.length)},t}(),o2=function(){function t(t){if(0==arguments.length)throw TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if("function"!=typeof t)throw TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");o1.connect(this,t)}return t.prototype.observe=function(t,e){if(0==arguments.length)throw TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!o_(t))throw TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");o1.observe(this,t,e)},t.prototype.unobserve=function(t){if(0==arguments.length)throw TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!o_(t))throw TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");o1.unobserve(this,t)},t.prototype.disconnect=function(){o1.disconnect(this)},t.toString=function(){return"function ResizeObserver () { [polyfill code] }"},t}();function o5(t){return O(O({type:B},t),{toJSON:function(){t.onDone,t.onError;var e=k(t,["onDone","onError"]);return O(O({},e),{type:B,src:function(t){if("string"==typeof t){var e={type:t};return e.toString=function(){return t},e}return t}(t.src)})}})}var o3={},o4=function(t){return"#"===t[0]},o9=function(){function t(e,n,r,i){void 0===r&&(r="context"in e?e.context:void 0);var o,a=this;this.config=e,this._context=r,this.order=-1,this.__xstatenode=!0,this.__cache={events:void 0,relativeValue:new Map,initialStateValue:void 0,initialState:void 0,on:void 0,transitions:void 0,candidates:{},delayedTransitions:void 0},this.idMap={},this.tags=[],this.options=Object.assign({actions:{},guards:{},services:{},activities:{},delays:{}},n),this.parent=null==i?void 0:i.parent,this.key=this.config.key||(null==i?void 0:i.key)||this.config.id||"(machine)",this.machine=this.parent?this.parent.machine:this,this.path=this.parent?this.parent.path.concat(this.key):[],this.delimiter=this.config.delimiter||(this.parent?this.parent.delimiter:"."),this.id=this.config.id||T([this.machine.key],R(this.path),!1).join(this.delimiter),this.version=this.parent?this.parent.version:this.config.version,this.type=this.config.type||(this.config.parallel?"parallel":this.config.states&&Object.keys(this.config.states).length?"compound":this.config.history?"history":"atomic"),this.schema=this.parent?this.machine.schema:null!==(o=this.config.schema)&&void 0!==o?o:{},this.description=this.config.description,this.initial=this.config.initial,this.states=this.config.states?Z(this.config.states,function(e,n){var r,i=new t(e,{},void 0,{parent:a,key:n});return Object.assign(a.idMap,O(((r={})[i.id]=i,r),i.idMap)),i}):o3;var s=0;!function t(e){var n,r;e.order=s++;try{for(var i=P(tE(e)),o=i.next();!o.done;o=i.next()){var a=o.value;t(a)}}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}(this),this.history=!0===this.config.history?"shallow":this.config.history||!1,this._transient=!!this.config.always||!!this.config.on&&(Array.isArray(this.config.on)?this.config.on.some(function(t){return""===t.event}):""in this.config.on),this.strict=!!this.config.strict,this.onEntry=tr(this.config.entry||this.config.onEntry).map(function(t){return tN(t)}),this.onExit=tr(this.config.exit||this.config.onExit).map(function(t){return tN(t)}),this.meta=this.config.meta,this.doneData="final"===this.type?this.config.data:void 0,this.invoke=tr(this.config.invoke).map(function(t,e){if(th(t)){var n,r,i=tS(a.id,e);return a.machine.options.services=O(((n={})[i]=t,n),a.machine.options.services),o5({src:i,id:i})}if(tl(t.src)){var i=t.id||tS(a.id,e);return o5(O(O({},t),{id:i,src:t.src}))}if(th(t.src)||tc(t.src)){var i=t.id||tS(a.id,e);return a.machine.options.services=O(((r={})[i]=t.src,r),a.machine.options.services),o5(O(O({id:i},t),{src:i}))}var o=t.src;return o5(O(O({id:tS(a.id,e)},t),{src:o}))}),this.activities=tr(this.config.activities).concat(this.invoke).map(function(t){return tD(t)}),this.transition=this.transition.bind(this),this.tags=tr(this.config.tags)}return t.prototype._init=function(){this.__cache.transitions||(function t(e){var n=[e];return tx(e)?n:n.concat(tn(t_(e).map(t)))})(this).forEach(function(t){return t.on})},t.prototype.withConfig=function(e,n){var r=this.options,i=r.actions,o=r.activities,a=r.guards,s=r.services,u=r.delays;return new t(this.config,{actions:O(O({},i),e.actions),activities:O(O({},o),e.activities),guards:O(O({},a),e.guards),services:O(O({},s),e.services),delays:O(O({},u),e.delays)},null!=n?n:this.context)},t.prototype.withContext=function(e){return new t(this.config,this.options,e)},Object.defineProperty(t.prototype,"context",{get:function(){return tc(this._context)?this._context():this._context},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"definition",{get:function(){return{id:this.id,key:this.key,version:this.version,context:this.context,type:this.type,initial:this.initial,history:this.history,states:Z(this.states,function(t){return t.definition}),on:this.on,transitions:this.transitions,entry:this.onEntry,exit:this.onExit,activities:this.activities||[],meta:this.meta,order:this.order||-1,data:this.doneData,invoke:this.invoke,description:this.description,tags:this.tags}},enumerable:!1,configurable:!0}),t.prototype.toJSON=function(){return this.definition},Object.defineProperty(t.prototype,"on",{get:function(){if(this.__cache.on)return this.__cache.on;var t=this.transitions;return this.__cache.on=t.reduce(function(t,e){return t[e.eventType]=t[e.eventType]||[],t[e.eventType].push(e),t},{})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"after",{get:function(){return this.__cache.delayedTransitions||(this.__cache.delayedTransitions=this.getDelayedTransitions(),this.__cache.delayedTransitions)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transitions",{get:function(){return this.__cache.transitions||(this.__cache.transitions=this.formatTransitions(),this.__cache.transitions)},enumerable:!1,configurable:!0}),t.prototype.getCandidates=function(t){if(this.__cache.candidates[t])return this.__cache.candidates[t];var e=""===t,n=this.transitions.filter(function(n){var r=n.eventType===t;return e?r:r||"*"===n.eventType});return this.__cache.candidates[t]=n,n},t.prototype.getDelayedTransitions=function(){var t=this,e=this.config.after;if(!e)return[];var n=function(e,n){var r,i,o,a=(r=tc(e)?"".concat(t.id,":delay[").concat(n,"]"):e,i=t.id,"".concat(d.After,"(").concat(r,")").concat(i?"#".concat(i):""));return t.onEntry.push({to:(o={delay:e}).to,type:I,event:tc(a)?a:tp(a),delay:o?o.delay:void 0,id:o&&void 0!==o.id?o.id:tc(a)?a.name:Q(a)}),t.onExit.push({type:M,sendId:a}),a};return(tu(e)?e.map(function(t,e){var r=n(t.delay,e);return O(O({},t),{event:r})}):tn(Object.keys(e).map(function(t,r){var i=e[t],o=tl(i)?{target:i}:i,a=isNaN(+t)?t:+t,s=n(a,r);return tr(o).map(function(t){return O(O({},t),{event:s,delay:a})})}))).map(function(e){var n=e.delay;return O(O({},t.formatTransition(e)),{delay:n})})},t.prototype.getStateNodes=function(t){var e,n=this;if(!t)return[];var r=t instanceof tF?t.value:X(t,this.delimiter);if(tl(r)){var i=this.getStateNode(r).initial;return void 0!==i?this.getStateNodes(((e={})[r]=i,e)):[this,this.states[r]]}var o=Object.keys(r),a=[this];return a.push.apply(a,T([],R(tn(o.map(function(t){return n.getStateNode(t).getStateNodes(r[t])}))),!1)),a},t.prototype.handles=function(t){var e=Q(t);return this.events.includes(e)},t.prototype.resolveState=function(t){var e=t instanceof tF?t:tF.create(t),n=Array.from(tO([],this.getStateNodes(e.value)));return new tF(O(O({},e),{value:this.resolve(e.value),configuration:n,done:tR(n,this),tags:tT(n),machine:this.machine}))},t.prototype.transitionLeafNode=function(t,e,n){var r=this.getStateNode(t).next(e,n);return r&&r.transitions.length?r:this.next(e,n)},t.prototype.transitionCompoundNode=function(t,e,n){var r=Object.keys(t),i=this.getStateNode(r[0])._transition(t[r[0]],e,n);return i&&i.transitions.length?i:this.next(e,n)},t.prototype.transitionParallelNode=function(t,e,n){var r,i,o={};try{for(var a=P(Object.keys(t)),s=a.next();!s.done;s=a.next()){var u=s.value,c=t[u];if(c){var l=this.getStateNode(u)._transition(c,e,n);l&&(o[u]=l)}}}catch(t){r={error:t}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}var d=Object.keys(o).map(function(t){return o[t]}),f=tn(d.map(function(t){return t.transitions}));if(!d.some(function(t){return t.transitions.length>0}))return this.next(e,n);var h=tn(Object.keys(o).map(function(t){return o[t].configuration}));return{transitions:f,exitSet:tn(d.map(function(t){return t.exitSet})),configuration:h,source:e,actions:tn(Object.keys(o).map(function(t){return o[t].actions}))}},t.prototype._transition=function(t,e,n){return tl(t)?this.transitionLeafNode(t,e,n):1===Object.keys(t).length?this.transitionCompoundNode(t,e,n):this.transitionParallelNode(t,e,n)},t.prototype.getTransitionData=function(t,e){return this._transition(t.value,t,tv(e))},t.prototype.next=function(t,e){var n,r,i,o=this,a=e.name,s=[],u=[];try{for(var c=P(this.getCandidates(a)),l=c.next();!l.done;l=c.next()){var d=l.value,f=d.cond,h=d.in,p=t.context,v=!h||(tl(h)&&o4(h)?t.matches(X(this.getStateNodeById(h).path,this.delimiter)):K(X(h,this.delimiter),tt(this.path.slice(0,-2))(t.value))),y=!1;try{y=!f||tg(this.machine,f,p,e,t)}catch(t){throw Error("Unable to evaluate guard '".concat(f.name||f.type,"' in transition for event '").concat(a,"' in state node '").concat(this.id,"':\n").concat(t.message))}if(y&&v){void 0!==d.target&&(u=d.target),s.push.apply(s,T([],R(d.actions),!1)),i=d;break}}}catch(t){n={error:t}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}if(i){if(!u.length)return{transitions:[i],exitSet:[],configuration:t.value?[this]:[],source:t,actions:s};var g=tn(u.map(function(e){return o.getRelativeStateNodes(e,t.historyValue)})),m=!!i.internal;return{transitions:[i],exitSet:m?[]:tn(u.map(function(t){return o.getPotentiallyReenteringNodes(t)})),configuration:g,source:t,actions:s}}},t.prototype.getPotentiallyReenteringNodes=function(t){if(this.order<t.order)return[this];for(var e=[],n=this;n&&n!==t;)e.push(n),n=n.parent;return n!==t?[]:(e.push(t),e)},t.prototype.getActions=function(t,e,n,r,i,o,a){var s,u,c,l,f=this,h=o?tO([],this.getStateNodes(o.value)):[],p=new Set;try{for(var v=P(Array.from(t).sort(function(t,e){return t.order-e.order})),y=v.next();!y.done;y=v.next()){var g=y.value;(!tP(h,g)||tP(n.exitSet,g)||g.parent&&p.has(g.parent))&&p.add(g)}}catch(t){s={error:t}}finally{try{y&&!y.done&&(u=v.return)&&u.call(v)}finally{if(s)throw s.error}}try{for(var m=P(h),b=m.next();!b.done;b=m.next()){var g=b.value;(!tP(t,g)||tP(n.exitSet,g.parent))&&n.exitSet.push(g)}}catch(t){c={error:t}}finally{try{b&&!b.done&&(l=m.return)&&l.call(m)}finally{if(c)throw c.error}}n.exitSet.sort(function(t,e){return e.order-t.order});var S=Array.from(p).sort(function(t,e){return t.order-e.order}),w=new Set(n.exitSet),x=tn(S.map(function(t){var e=[];if("final"!==t.type)return e;var o=t.parent;if(!o.parent)return e;e.push(tI(t.id,t.doneData),tI(o.id,t.doneData?ti(t.doneData,r,i):void 0));var a=o.parent;return"parallel"===a.type&&t_(a).every(function(t){return tR(n.configuration,t)})&&e.push(tI(a.id)),e})),E=S.map(function(t){var e=t.onEntry,n=t.activities.map(function(t){var e;return e=tD(t),{type:d.Start,activity:e,exec:void 0}});return{type:"entry",actions:tj(a?T(T([],R(e),!1),R(n),!1):T(T([],R(n),!1),R(e),!1),f.machine.options.actions)}}).concat({type:"state_done",actions:x.map(function(t){var e;return{type:D,event:"function"==typeof t?t:tp(t),delay:e?e.delay:void 0,id:null==e?void 0:e.id}})}),_=Array.from(w).map(function(t){return{type:"exit",actions:tj(T(T([],R(t.onExit),!1),R(t.activities.map(function(t){var e;return e=tc(t)?t:tD(t),{type:d.Stop,activity:e,exec:void 0}})),!1),f.machine.options.actions)}}).concat({type:"transition",actions:tj(n.actions,this.machine.options.actions)}).concat(E);if(e){var O=tj(tn(T([],R(t),!1).sort(function(t,e){return e.order-t.order}).map(function(t){return t.onExit})),this.machine.options.actions).filter(function(t){return!tw(t)});return _.concat({type:"stop",actions:O})}return _},t.prototype.transition=function(t,e,n,r){void 0===t&&(t=this.initialState);var i,o,a=tv(e);if(t instanceof tF)o=void 0===n?t:this.resolveState(tF.from(t,n));else{var s=tl(t)?this.resolve(J(this.getResolvedPath(t))):this.resolve(t),u=null!=n?n:this.machine.context;o=this.resolveState(tF.from(s,u))}if(this.strict&&!this.events.includes(a.name)&&(i=a.name,!/^(done|error)\./.test(i)))throw Error("Machine '".concat(this.id,"' does not accept event '").concat(a.name,"'"));var c=this._transition(o.value,o,a)||{transitions:[],configuration:[],exitSet:[],source:o,actions:[]},l=tO([],this.getStateNodes(o.value)),d=c.configuration.length?tO(l,c.configuration):l;return c.configuration=T([],R(d),!1),this.resolveTransition(c,o,o.context,r,a)},t.prototype.resolveRaisedTransition=function(t,e,n,r){var i,o=t.actions;return(t=this.transition(t,e,void 0,r))._event=n,t.event=n.data,(i=t.actions).unshift.apply(i,T([],R(o),!1)),t},t.prototype.resolveTransition=function(t,e,n,r,i){var o,a,s,u,c,l,d=this;void 0===i&&(i=tC);var f=t.configuration,h=!e||t.transitions.length>0,p=h?t.configuration:e?e.configuration:[],v=tR(p,this),y=h?(a=tO([o=this.machine],f),function t(e,n){var r=n.get(e);if(!r)return{};if("compound"===e.type){var i=r[0];if(!i)return{};if(tx(i))return i.key}var o={};return r.forEach(function(e){o[e.key]=t(e,n)}),o}(o,tk(a))):void 0,g=e?e.historyValue?e.historyValue:t.source?this.machine.historyValue(e.value):void 0:void 0,m=this.getActions(new Set(p),v,t,n,i,e,r),b=e?O({},e.activities):{};try{for(var S=P(m),w=S.next();!w.done;w=S.next()){var x=w.value;try{for(var E=(c=void 0,P(x.actions)),_=E.next();!_.done;_=E.next()){var k=_.value;k.type===N?b[k.activity.id||k.activity.type]=k:k.type===j&&(b[k.activity.id||k.activity.type]=!1)}}catch(t){c={error:t}}finally{try{_&&!_.done&&(l=E.return)&&l.call(E)}finally{if(c)throw c.error}}}}catch(t){s={error:t}}finally{try{w&&!w.done&&(u=S.return)&&u.call(S)}finally{if(s)throw s.error}}var T=R(tV(this,e,n,i,m,r,this.machine.config.predictableActionArguments||this.machine.config.preserveActionOrder),2),C=T[0],A=T[1],D=R(function(t,e){var n,r,i=R([[],[]],2),o=i[0],a=i[1];try{for(var s=P(t),u=s.next();!u.done;u=s.next()){var c=u.value;e(c)?o.push(c):a.push(c)}}catch(t){n={error:t}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return[o,a]}(C,tw),2),I=D[0],M=D[1],L=C.filter(function(t){var e;return t.type===N&&(null===(e=t.activity)||void 0===e?void 0:e.type)===B}).reduce(function(t,e){var n,r,o,a,s,u,c,l;return t[e.activity.id]=(n=e.activity,r=d.machine,o=i,s=tm(n.src),u=null===(a=null==r?void 0:r.options.services)||void 0===a?void 0:a[s.type],c=n.data?ti(n.data,A,o):void 0,(l=u?tK(u,n.id,c):tU(n.id)).meta=n,l),t},e?O({},e.children):{}),V=new tF({value:y||e.value,context:A,_event:i,_sessionid:e?e._sessionid:null,historyValue:y?g?{current:y,states:function t(e,n){return Z(e.states,function(e,r){if(e){var i=(tl(n)?void 0:n[r])||(e?e.current:void 0);if(i)return{current:i,states:t(e,i)}}})}(g,y)}:void 0:e?e.historyValue:void 0,history:!y||t.source?e:void 0,actions:y?M:[],activities:y?b:e?e.activities:{},events:[],configuration:p,transitions:t.transitions,children:L,done:v,tags:tT(p),machine:this}),F=n!==A;V.changed=i.name===q||F;var H=V.history;H&&delete H.history;var G=!v&&(this._transient||f.some(function(t){return t._transient}));if(!h&&(!G||""===i.name))return V;var $=V;if(!v)for(G&&($=this.resolveRaisedTransition($,{type:z},i,r));I.length;){var U=I.shift();$=this.resolveRaisedTransition($,U._event,i,r)}var K=$.changed||(H?!!$.actions.length||F||typeof H.value!=typeof $.value||!function t(e,n){if(e===n)return!0;if(void 0===e||void 0===n)return!1;if(tl(e)||tl(n))return e===n;var r=Object.keys(e),i=Object.keys(n);return r.length===i.length&&r.every(function(r){return t(e[r],n[r])})}($.value,H.value):void 0);return $.changed=K,$.history=H,$},t.prototype.getStateNode=function(t){if(o4(t))return this.machine.getStateNodeById(t);if(!this.states)throw Error("Unable to retrieve child state '".concat(t,"' from '").concat(this.id,"'; no child states exist."));var e=this.states[t];if(!e)throw Error("Child state '".concat(t,"' does not exist on '").concat(this.id,"'"));return e},t.prototype.getStateNodeById=function(t){var e=o4(t)?t.slice(1):t;if(e===this.id)return this;var n=this.machine.idMap[e];if(!n)throw Error("Child state node '#".concat(e,"' does not exist on machine '").concat(this.id,"'"));return n},t.prototype.getStateNodeByPath=function(t){if("string"==typeof t&&o4(t))try{return this.getStateNodeById(t.slice(1))}catch(t){}for(var e=W(t,this.delimiter).slice(),n=this;e.length;){var r=e.shift();if(!r.length)break;n=n.getStateNode(r)}return n},t.prototype.resolve=function(t){var e,n=this;if(!t)return this.initialStateValue||o3;switch(this.type){case"parallel":return Z(this.initialStateValue,function(e,r){return e?n.getStateNode(r).resolve(t[r]||e):o3});case"compound":if(tl(t)){var r=this.getStateNode(t);if("parallel"===r.type||"compound"===r.type)return(e={})[t]=r.initialStateValue,e;return t}if(!Object.keys(t).length)return this.initialStateValue||{};return Z(t,function(t,e){return t?n.getStateNode(e).resolve(t):o3});default:return t||o3}},t.prototype.getResolvedPath=function(t){if(o4(t)){var e=this.machine.idMap[t.slice(1)];if(!e)throw Error("Unable to find state node '".concat(t,"'"));return e.path}return W(t,this.delimiter)},Object.defineProperty(t.prototype,"initialStateValue",{get:function(){var t,e;if(this.__cache.initialStateValue)return this.__cache.initialStateValue;if("parallel"===this.type)e=Y(this.states,function(t){return t.initialStateValue||o3},function(t){return"history"!==t.type});else if(void 0!==this.initial){if(!this.states[this.initial])throw Error("Initial state '".concat(this.initial,"' not found on '").concat(this.key,"'"));e=tx(this.states[this.initial])?this.initial:((t={})[this.initial]=this.states[this.initial].initialStateValue,t)}else e={};return this.__cache.initialStateValue=e,this.__cache.initialStateValue},enumerable:!1,configurable:!0}),t.prototype.getInitialState=function(t,e){this._init();var n=this.getStateNodes(t);return this.resolveTransition({configuration:n,exitSet:[],transitions:[],source:void 0,actions:[]},void 0,null!=e?e:this.machine.context,void 0)},Object.defineProperty(t.prototype,"initialState",{get:function(){var t=this.initialStateValue;if(!t)throw Error("Cannot retrieve initial state from simple state '".concat(this.id,"'."));return this.getInitialState(t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"target",{get:function(){var t;if("history"===this.type){var e=this.config;t=tl(e.target)&&o4(e.target)?J(this.machine.getStateNodeById(e.target).path.slice(this.path.length-1)):e.target}return t},enumerable:!1,configurable:!0}),t.prototype.getRelativeStateNodes=function(t,e,n){return void 0===n&&(n=!0),n?"history"===t.type?t.resolveHistory(e):t.initialStateNodes:[t]},Object.defineProperty(t.prototype,"initialStateNodes",{get:function(){var t=this;return tx(this)?[this]:"compound"!==this.type||this.initial?tn(te(this.initialStateValue).map(function(e){return t.getFromRelativePath(e)})):[this]},enumerable:!1,configurable:!0}),t.prototype.getFromRelativePath=function(t){if(!t.length)return[this];var e=R(t),n=e[0],r=e.slice(1);if(!this.states)throw Error("Cannot retrieve subPath '".concat(n,"' from node with no states"));var i=this.getStateNode(n);if("history"===i.type)return i.resolveHistory();if(!this.states[n])throw Error("Child state '".concat(n,"' does not exist on '").concat(this.id,"'"));return this.states[n].getFromRelativePath(r)},t.prototype.historyValue=function(t){if(Object.keys(this.states).length)return{current:t||this.initialStateValue,states:Y(this.states,function(e,n){if(!t)return e.historyValue();var r=tl(t)?void 0:t[n];return e.historyValue(r||e.initialStateValue)},function(t){return!t.history})}},t.prototype.resolveHistory=function(t){var e,n=this;if("history"!==this.type)return[this];var r=this.parent;if(!t){var i=this.target;return i?tn(te(i).map(function(t){return r.getFromRelativePath(t)})):r.initialStateNodes}var o=(e=r.path,function(t){var n,r,i=t;try{for(var o=P(e),a=o.next();!a.done;a=o.next()){var s=a.value;i=i.states[s]}}catch(t){n={error:t}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i})(t).current;return tl(o)?[r.getStateNode(o)]:tn(te(o).map(function(t){return"deep"===n.history?r.getFromRelativePath(t):[r.states[t[0]]]}))},Object.defineProperty(t.prototype,"stateIds",{get:function(){var t=this,e=tn(Object.keys(this.states).map(function(e){return t.states[e].stateIds}));return[this.id].concat(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"events",{get:function(){if(this.__cache.events)return this.__cache.events;var t,e,n,r,i=this.states,o=new Set(this.ownEvents);if(i)try{for(var a=P(Object.keys(i)),s=a.next();!s.done;s=a.next()){var u=i[s.value];if(u.states)try{for(var c=(n=void 0,P(u.events)),l=c.next();!l.done;l=c.next()){var d=l.value;o.add("".concat(d))}}catch(t){n={error:t}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}}catch(e){t={error:e}}finally{try{s&&!s.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}return this.__cache.events=Array.from(o)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ownEvents",{get:function(){return Array.from(new Set(this.transitions.filter(function(t){return!(!t.target&&!t.actions.length&&t.internal)}).map(function(t){return t.eventType})))},enumerable:!1,configurable:!0}),t.prototype.resolveTarget=function(t){var e=this;if(void 0!==t)return t.map(function(t){if(!tl(t))return t;var n=t[0]===e.delimiter;if(n&&!e.parent)return e.getStateNodeByPath(t.slice(1));var r=n?e.key+t:t;if(!e.parent)return e.getStateNodeByPath(r);try{return e.parent.getStateNodeByPath(r)}catch(t){throw Error("Invalid transition definition for state node '".concat(e.id,"':\n").concat(t.message))}})},t.prototype.formatTransition=function(t){var e=this,n=function(t){if(void 0!==t&&""!==t)return tr(t)}(t.target),r="internal"in t?t.internal:!n||n.some(function(t){return tl(t)&&t[0]===e.delimiter}),i=this.machine.options.guards,o=this.resolveTarget(n),a=O(O({},t),{actions:tj(tr(t.actions)),cond:td(t.cond,i),target:o,source:this,internal:r,eventType:t.event,toJSON:function(){return O(O({},a),{target:a.target?a.target.map(function(t){return"#".concat(t.id)}):void 0,source:"#".concat(e.id)})}});return a},t.prototype.formatTransitions=function(){var t,e,n,r=this;if(this.config.on){if(Array.isArray(this.config.on))n=this.config.on;else{var i=this.config.on,o=i["*"],a=k(i,["*"]);n=tn(Object.keys(a).map(function(t){return ty(t,a[t])}).concat(ty("*",void 0===o?[]:o)))}}else n=[];var s=this.config.always?ty("",this.config.always):[],u=this.config.onDone?ty(String(tI(this.id)),this.config.onDone):[],c=tn(this.invoke.map(function(t){var e=[];return t.onDone&&e.push.apply(e,T([],R(ty(String(tM(t.id)),t.onDone)),!1)),t.onError&&e.push.apply(e,T([],R(ty(String(tz(t.id)),t.onError)),!1)),e})),l=this.after,d=tn(T(T(T(T([],R(u),!1),R(c),!1),R(n),!1),R(s),!1).map(function(t){return tr(t).map(function(t){return r.formatTransition(t)})}));try{for(var f=P(l),h=f.next();!h.done;h=f.next()){var p=h.value;d.push(p)}}catch(e){t={error:e}}finally{try{h&&!h.done&&(e=f.return)&&e.call(f)}finally{if(t)throw t.error}}return d},t}();function o7(){return(o7=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function o8(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)e.indexOf(n=o[r])>=0||(i[n]=t[n]);return i}var o6="undefined"!=typeof window?w.useLayoutEffect:w.useEffect;function at(t,e,n){return e=(e=+e)==e?e:0,n=(n=+n)==n?n:0,(t=+t)==t&&(t=(t=t<=n?t:n)>=e?t:e),t}function ae(t){var e=Math.round(t);if(Number.isNaN(t))throw TypeError("Found a NaN! Check your snapPoints / defaultSnap / snapTo ");return e}var an={box:"border-box"};function ar(t,e){var n=e.label,r=e.enabled,i=e.resizeSourceRef,o=(0,w.useState)(0),a=o[0],s=o[1];(0,w.useDebugValue)(n+": "+a);var u=(0,w.useCallback)(function(t){s(t[0].borderBoxSize[0].blockSize),i.current="element"},[i]);return o6(function(){if(t.current&&r){var e=new o2(u);return e.observe(t.current,an),function(){e.disconnect()}}},[t,u,r]),r?a:0}function ai(t){return void 0===t&&(t=1e3),new Promise(function(e){return setTimeout(e,t)})}var ao={DRAG:{target:"#overlay.dragging",actions:"onOpenEnd"}},aa={RESIZE:{target:"#overlay.resizing",actions:"onOpenEnd"}},as=(c={id:"overlay",initial:"closed",context:{initialState:"CLOSED"},states:{closed:{on:{OPEN:"opening",CLOSE:void 0}},opening:{initial:"start",states:{start:{invoke:{src:"onOpenStart",onDone:"transition"}},transition:{always:[{target:"immediately",cond:"initiallyOpen"},{target:"smoothly",cond:"initiallyClosed"}]},immediately:{initial:"open",states:{open:{invoke:{src:"openImmediately",onDone:"activating"}},activating:{invoke:{src:"activate",onDone:"#overlay.opening.end"},on:o7({},ao,aa)}}},smoothly:{initial:"visuallyHidden",states:{visuallyHidden:{invoke:{src:"renderVisuallyHidden",onDone:"activating"}},activating:{invoke:{src:"activate",onDone:"open"}},open:{invoke:{src:"openSmoothly",onDone:"#overlay.opening.end"},on:o7({},ao,aa)}}},end:{invoke:{src:"onOpenEnd",onDone:"done"},on:{CLOSE:"#overlay.closing",DRAG:"#overlay.dragging"}},done:{type:"final"}},on:o7({},{CLOSE:{target:"#overlay.closing",actions:"onOpenCancel"}}),onDone:"open"},open:{on:{DRAG:"#overlay.dragging",SNAP:"snapping",RESIZE:"resizing"}},dragging:{on:{SNAP:"snapping"}},snapping:{initial:"start",states:{start:{invoke:{src:"onSnapStart",onDone:"snappingSmoothly"},entry:[{type:L,assignment:{y:function(t,e){return e.payload.y},velocity:function(t,e){return e.payload.velocity},snapSource:function(t,e){var n=e.payload.source;return void 0===n?"custom":n}}}]},snappingSmoothly:{invoke:{src:"snapSmoothly",onDone:"end"}},end:{invoke:{src:"onSnapEnd",onDone:"done"},on:{RESIZE:"#overlay.resizing",SNAP:"#overlay.snapping",CLOSE:"#overlay.closing",DRAG:"#overlay.dragging"}},done:{type:"final"}},on:{SNAP:{target:"snapping",actions:"onSnapEnd"},RESIZE:{target:"#overlay.resizing",actions:"onSnapCancel"},DRAG:{target:"#overlay.dragging",actions:"onSnapCancel"},CLOSE:{target:"#overlay.closing",actions:"onSnapCancel"}},onDone:"open"},resizing:{initial:"start",states:{start:{invoke:{src:"onResizeStart",onDone:"resizingSmoothly"}},resizingSmoothly:{invoke:{src:"resizeSmoothly",onDone:"end"}},end:{invoke:{src:"onResizeEnd",onDone:"done"},on:{SNAP:"#overlay.snapping",CLOSE:"#overlay.closing",DRAG:"#overlay.dragging"}},done:{type:"final"}},on:{RESIZE:{target:"resizing",actions:"onResizeEnd"},SNAP:{target:"snapping",actions:"onResizeCancel"},DRAG:{target:"#overlay.dragging",actions:"onResizeCancel"},CLOSE:{target:"#overlay.closing",actions:"onResizeCancel"}},onDone:"open"},closing:{initial:"start",states:{start:{invoke:{src:"onCloseStart",onDone:"deactivating"},on:{OPEN:{target:"#overlay.open",actions:"onCloseCancel"}}},deactivating:{invoke:{src:"deactivate",onDone:"closingSmoothly"}},closingSmoothly:{invoke:{src:"closeSmoothly",onDone:"end"}},end:{invoke:{src:"onCloseEnd",onDone:"done"},on:{OPEN:{target:"#overlay.opening",actions:"onCloseCancel"}}},done:{type:"final"}},on:{CLOSE:void 0,OPEN:{target:"#overlay.opening",actions:"onCloseCancel"}},onDone:"closed"}},on:{CLOSE:"closing"}},void 0===l&&(l=c.context),new o9(c,{actions:{onOpenCancel:function(t,e){},onSnapCancel:function(t,e){},onResizeCancel:function(t,e){},onCloseCancel:function(t,e){},onOpenEnd:function(t,e){},onSnapEnd:function(t,e){},onRezizeEnd:function(t,e){}},services:{onSnapStart:function(){try{return Promise.resolve(ai()).then(function(){})}catch(t){return Promise.reject(t)}},onOpenStart:function(){try{return Promise.resolve(ai()).then(function(){})}catch(t){return Promise.reject(t)}},onCloseStart:function(){try{return Promise.resolve(ai()).then(function(){})}catch(t){return Promise.reject(t)}},onResizeStart:function(){try{return Promise.resolve(ai()).then(function(){})}catch(t){return Promise.reject(t)}},onSnapEnd:function(){try{return Promise.resolve(ai()).then(function(){})}catch(t){return Promise.reject(t)}},onOpenEnd:function(){try{return Promise.resolve(ai()).then(function(){})}catch(t){return Promise.reject(t)}},onCloseEnd:function(){try{return Promise.resolve(ai()).then(function(){})}catch(t){return Promise.reject(t)}},onResizeEnd:function(){try{return Promise.resolve(ai()).then(function(){})}catch(t){return Promise.reject(t)}},renderVisuallyHidden:function(t,e){try{return Promise.resolve(ai()).then(function(){})}catch(t){return Promise.reject(t)}},activate:function(t,e){try{return Promise.resolve(ai()).then(function(){})}catch(t){return Promise.reject(t)}},deactivate:function(t,e){try{return Promise.resolve(ai()).then(function(){})}catch(t){return Promise.reject(t)}},openSmoothly:function(t,e){try{return Promise.resolve(ai()).then(function(){})}catch(t){return Promise.reject(t)}},openImmediately:function(t,e){try{return Promise.resolve(ai()).then(function(){})}catch(t){return Promise.reject(t)}},snapSmoothly:function(t,e){try{return Promise.resolve(ai()).then(function(){})}catch(t){return Promise.reject(t)}},resizeSmoothly:function(t,e){try{return Promise.resolve(ai()).then(function(){})}catch(t){return Promise.reject(t)}},closeSmoothly:function(t,e){try{return Promise.resolve(ai()).then(function(){})}catch(t){return Promise.reject(t)}}},guards:{initiallyClosed:function(t){return"CLOSED"===t.initialState},initiallyOpen:function(t){return"OPEN"===t.initialState}}},l)),au=["children","sibling","className","footer","header","open","initialState","lastSnapRef","initialFocusRef","onDismiss","maxHeight","defaultSnap","snapPoints","blocking","scrollLocking","style","onSpringStart","onSpringCancel","onSpringEnd","reserveScrollBarGap","expandOnContentDrag"],ac=["velocity"],al=["onRest","config"],ad=n3.default,af=ad.tension,ah=ad.friction,ap=w.forwardRef(function(t,e){var n,r,i,o,a,s,u,c,l,d,f,h,p,y,g,m,b,S,x,E,_,O,k,P,R,T=t.children,C=t.sibling,A=t.className,N=t.footer,j=t.header,D=t.open,I=t.initialState,M=t.lastSnapRef,z=t.initialFocusRef,L=t.onDismiss,V=t.maxHeight,F=t.defaultSnap,B=void 0===F?ay:F,H=t.snapPoints,G=t.blocking,q=void 0===G||G,$=t.scrollLocking,U=t.style,K=t.onSpringStart,Q=t.onSpringCancel,W=t.onSpringEnd,X=t.reserveScrollBarGap,J=void 0===X?q:X,Z=t.expandOnContentDrag,Y=void 0!==Z&&Z,tt=o8(t,au),te=(tc=(tu=(0,w.useState)(!1))[0],tl=tu[1],tf=(td=(0,w.useState)({}))[0],th=td[1],tp=(0,w.useCallback)(function(t){return th(function(e){var n;return o7({},e,((n={})[t]=!1,n))}),function(){th(function(e){var n;return o7({},e,((n={})[t]=!0,n))})}},[]),(0,w.useEffect)(function(){var t=Object.values(tf);0!==t.length&&t.every(Boolean)&&tl(!0)},[tf]),{ready:tc,registerReady:tp}),tn=te.ready,tr=te.registerReady,ti=(0,w.useRef)(!1),to=(0,w.useRef)(K),ta=(0,w.useRef)(Q),ts=(0,w.useRef)(W);(0,w.useEffect)(function(){to.current=K,ta.current=Q,ts.current=W},[Q,K,W]);var tu,tc,tl,td,tf,th,tp,tv,ty,tg,tm,tb,tS,tw,tx,tE,t_,tO,tk,tP,tR,tT,tC,tA,tN,tj,tD,tI,tM,tz,tL,tV,tH,tG,tq,t$,tU,tK,tQ,tW,tX,tJ,tZ,tY,et,ee,en,er,ei,eo,ea,es,eu,ec,el,ed,ef,eh,ep,ev=function(t,e){let n=ex.fun(t),[[r],i]=function(t,e,n){let r=ex.fun(e)&&e;r&&!n&&(n=[]);let i=(0,w.useMemo)(()=>r||3==arguments.length?rL():void 0,[]),o=(0,w.useRef)(0),a=nk(),s=(0,w.useMemo)(()=>({ctrls:[],queue:[],flush(t,e){let n=rA(t,e);return!(o.current>0)||s.queue.length||Object.keys(n).some(e=>!t.springs[e])?new Promise(r=>{rN(t,n),s.queue.push(()=>{r(rT(t,e))}),a()}):rT(t,e)}}),[]),u=(0,w.useRef)([...s.ctrls]),c=[],l=nT(t)||0;function d(t,n){for(let i=t;i<n;i++){let t=u.current[i]||(u.current[i]=new rR(null,s.flush)),n=r?r(i,t):e[i];n&&(c[i]=function(t){let e=rw(t);return ex.und(e.default)&&(e.default=nZ(e)),e}(n))}}(0,w.useMemo)(()=>{e_(u.current.slice(t,l),t=>{t.ref?.delete(t),i?.delete(t),t.stop(!0)}),u.current.length=t,d(l,t)},[t]),(0,w.useMemo)(()=>{d(0,Math.min(l,t))},n);let f=u.current.map((t,e)=>rA(t,c[e])),h=(0,w.useContext)(rM),p=nT(h),v=h!==p&&function(t){for(let e in t)return!0;return!1}(h);n_(()=>{o.current++,s.ctrls=u.current;let{queue:t}=s;t.length&&(s.queue=[],e_(t,t=>t())),e_(u.current,(t,e)=>{i?.add(t),v&&t.start({default:h});let n=c[e];if(n){var r;(r=n.ref)&&t.ref!==r&&(t.ref?.delete(t),r.add(t),t.ref=r),t.ref?t.queue.push(n):t.start(n)}})}),nP(()=>()=>{e_(s.ctrls,t=>t.stop(!0))});let y=f.map(t=>({...t}));return i?[y,i]:y}(1,n?t:[t],n?e||[]:e);return n||2==arguments.length?[r,i]:r}(function(){return{y:0,ready:0,maxHeight:0,minSnap:0,maxSnap:0}}),ey=ev[0],eg=ev[1],em=(0,w.useRef)(null),eb=(0,w.useRef)(null),eS=(0,w.useRef)(null),ew=(0,w.useRef)(null),eE=(0,w.useRef)(null),eO=(0,w.useRef)(null),ek=(0,w.useRef)(0),eP=(0,w.useRef)(),eR=(0,w.useRef)(!1),eT=(eh=(0,w.useMemo)(function(){return"undefined"!=typeof window?window.matchMedia("(prefers-reduced-motion: reduce)"):null},[]),ep=(0,w.useRef)(null==eh?void 0:eh.matches),(0,w.useDebugValue)(ep.current?"reduce":"no-preference"),(0,w.useEffect)(function(){var t=function(t){ep.current=t.matches};return null==eh||eh.addListener(t),function(){return null==eh?void 0:eh.removeListener(t)}},[eh]),ep),eC=(ty=(tv={targetRef:eb,enabled:tn&&(void 0===$||$),reserveScrollBarGap:J}).targetRef,tg=tv.enabled,tm=tv.reserveScrollBarGap,tb=(0,w.useRef)({activate:function(){throw TypeError("Tried to activate scroll lock too early")},deactivate:function(){}}),(0,w.useDebugValue)(tg?"Enabled":"Disabled"),(0,w.useEffect)(function(){if(!tg)return tb.current.deactivate(),void(tb.current={activate:function(){},deactivate:function(){}});var t=ty.current,e=!1;tb.current={activate:function(){e||(e=!0,op(t,{allowTouchMove:function(t){return t.closest("[data-body-scroll-lock-ignore]")},reserveScrollBarGap:tm}))},deactivate:function(){e&&(e=!1,ov(t))}}},[tg,ty,tm]),tb),eA=(tw=(tS={targetRef:em,enabled:tn&&q}).targetRef,tx=tS.enabled,tE=(0,w.useRef)({activate:function(){throw TypeError("Tried to activate aria hider too early")},deactivate:function(){}}),(0,w.useDebugValue)(tx?"Enabled":"Disabled"),(0,w.useEffect)(function(){if(!tx)return tE.current.deactivate(),void(tE.current={activate:function(){},deactivate:function(){}});var t=tw.current,e=!1,n=[],r=[];tE.current={activate:function(){if(!e){e=!0;var i=t.parentNode;document.querySelectorAll("body > *").forEach(function(t){if(t!==i){var e=t.getAttribute("aria-hidden");null!==e&&"false"!==e||(n.push(e),r.push(t),t.setAttribute("aria-hidden","true"))}})}},deactivate:function(){e&&(e=!1,r.forEach(function(t,e){var r=n[e];null===r?t.removeAttribute("aria-hidden"):t.setAttribute("aria-hidden",r)}),n=[],r=[])}}},[tw,tx]),tE),eN=(tO=(t_={targetRef:em,fallbackRef:eO,initialFocusRef:z||void 0,enabled:tn&&q&&!1!==z}).targetRef,tk=t_.fallbackRef,tP=t_.initialFocusRef,tR=t_.enabled,tT=(0,w.useRef)({activate:function(){throw TypeError("Tried to activate focus trap too early")},deactivate:function(){}}),(0,w.useDebugValue)(tR?"Enabled":"Disabled"),(0,w.useEffect)(function(){if(!tR)return tT.current.deactivate(),void(tT.current={activate:function(){},deactivate:function(){}});var t=tk.current,e=ot(tO.current,{onActivate:void 0,initialFocus:tP?function(){return(null==tP?void 0:tP.current)||t}:void 0,fallbackFocus:t,escapeDeactivates:!1,clickOutsideDeactivates:!1}),n=!1;tT.current={activate:function(){try{return n?Promise.resolve():(n=!0,Promise.resolve(e.activate()).then(function(){return Promise.resolve(new Promise(function(t){return setTimeout(function(){return t(void 0)},0)})).then(function(){})}))}catch(t){return Promise.reject(t)}},deactivate:function(){n&&(n=!1,e.deactivate())}}},[tR,tk,tP,tO]),tT),ej=(et=(tC={contentRef:eS,controlledMaxHeight:V,footerEnabled:!!N,footerRef:eE,getSnapPoints:void 0===H?ag:H,headerEnabled:!1!==j,headerRef:ew,heightRef:ek,lastSnapRef:M,ready:tn,registerReady:tr,resizeSourceRef:eP}).getSnapPoints,ee=tC.heightRef,en=tC.lastSnapRef,er=tC.ready,eo=(tL=(tA={contentRef:tC.contentRef,controlledMaxHeight:tC.controlledMaxHeight,footerEnabled:tC.footerEnabled,footerRef:tC.footerRef,headerEnabled:tC.headerEnabled,headerRef:tC.headerRef,registerReady:tC.registerReady,resizeSourceRef:tC.resizeSourceRef}).contentRef,tV=tA.controlledMaxHeight,tH=tA.footerEnabled,tG=tA.footerRef,tq=tA.headerEnabled,t$=tA.headerRef,tU=tA.registerReady,tK=tA.resizeSourceRef,tQ=(0,w.useMemo)(function(){return tU("contentHeight")},[tU]),tN=(0,w.useMemo)(function(){return tU("maxHeight")},[tU]),tD=(tj=(0,w.useState)(function(){return ae(tV)||"undefined"!=typeof window?window.innerHeight:0}))[0],tI=tj[1],tM=tD>0,tz=(0,w.useRef)(0),(0,w.useDebugValue)(tV?"controlled":"auto"),(0,w.useEffect)(function(){tM&&tN()},[tM,tN]),o6(function(){if(tV)return tI(ae(tV)),void(tK.current="maxheightprop");var t=function(){tz.current||(tz.current=requestAnimationFrame(function(){tI(window.innerHeight),tK.current="window",tz.current=0}))};return window.addEventListener("resize",t),tI(window.innerHeight),tK.current="window",tN(),function(){window.removeEventListener("resize",t),cancelAnimationFrame(tz.current)}},[tV,tN,tK]),tW=ar(t$,{label:"headerHeight",enabled:tq,resizeSourceRef:tK}),tX=ar(tL,{label:"contentHeight",enabled:!0,resizeSourceRef:tK}),tZ=Math.min(tD-tW-(tJ=ar(tG,{label:"footerHeight",enabled:tH,resizeSourceRef:tK})),tX)+tW+tJ,(0,w.useDebugValue)("minHeight: "+tZ),tY=tX>0,(0,w.useEffect)(function(){tY&&tQ()},[tY,tQ]),ei={maxHeight:tD,minHeight:tZ,headerHeight:tW,footerHeight:tJ}).maxHeight,ea=ei.minHeight,es=ei.headerHeight,eu=ei.footerHeight,el=(ec=function(t,e){var n=Array.from([].concat(t).map(ae).reduce(function(t,n){return t.add(at(n,0,e)),t},new Set)),r=Math.min.apply(Math,n);if(Number.isNaN(r))throw TypeError("minSnap is NaN");var i=Math.max.apply(Math,n);if(Number.isNaN(i))throw TypeError("maxSnap is NaN");return{snapPoints:n,minSnap:r,maxSnap:i}}(er?et({height:ee.current,footerHeight:eu,headerHeight:es,minHeight:ea,maxHeight:eo}):[0],eo)).snapPoints,ed=ec.minSnap,ef=ec.maxSnap,(0,w.useDebugValue)("minSnap: "+ed+", maxSnap:"+ef),{minSnap:ed,maxSnap:ef,findSnap:function(t){var e=ae("function"==typeof t?t({footerHeight:eu,headerHeight:es,height:ee.current,minHeight:ea,maxHeight:eo,snapPoints:el,lastSnap:en.current}):t);return el.reduce(function(t,n){return Math.abs(n-e)<Math.abs(t-e)?n:t},ed)},maxHeight:eo}),eD=ej.minSnap,eI=ej.maxSnap,eM=ej.maxHeight,ez=ej.findSnap,eL=(0,w.useRef)(eM),eV=(0,w.useRef)(eD),eF=(0,w.useRef)(eI),eB=(0,w.useRef)(ez),eH=(0,w.useRef)(0);o6(function(){eL.current=eM,eF.current=eI,eV.current=eD,eB.current=ez,eH.current=ez(B)},[ez,B,eM,eI,eD]);var eG=(0,w.useCallback)(function(t){var e=t.onRest,n=t.config,r=(n=void 0===n?{}:n).velocity,i=void 0===r?1:r,o=o8(n,ac),a=o8(t,al);return new Promise(function(t){return eg(o7({},a,{config:o7({velocity:i},o,{mass:1,tension:af,friction:Math.max(ah,ah+(ah-ah*i))}),onRest:function(){var n=[].slice.call(arguments);t.apply(void 0,n),null==e||e.apply(void 0,n)}}))})},[eg]),eq=(n={devTools:!1,actions:{onOpenCancel:(0,w.useCallback)(function(){return null==ta.current?void 0:ta.current({type:"OPEN"})},[]),onSnapCancel:(0,w.useCallback)(function(t){return null==ta.current?void 0:ta.current({type:"SNAP",source:t.snapSource})},[]),onCloseCancel:(0,w.useCallback)(function(){return null==ta.current?void 0:ta.current({type:"CLOSE"})},[]),onResizeCancel:(0,w.useCallback)(function(){return null==ta.current?void 0:ta.current({type:"RESIZE",source:eP.current})},[]),onOpenEnd:(0,w.useCallback)(function(){return null==ts.current?void 0:ts.current({type:"OPEN"})},[]),onSnapEnd:(0,w.useCallback)(function(t,e){return null==ts.current?void 0:ts.current({type:"SNAP",source:t.snapSource})},[]),onResizeEnd:(0,w.useCallback)(function(){return null==ts.current?void 0:ts.current({type:"RESIZE",source:eP.current})},[])},context:{initialState:I},services:{onSnapStart:(0,w.useCallback)(function(t,e){try{return Promise.resolve(null==to.current?void 0:to.current({type:"SNAP",source:e.payload.source||"custom"}))}catch(t){return Promise.reject(t)}},[]),onOpenStart:(0,w.useCallback)(function(){try{return Promise.resolve(null==to.current?void 0:to.current({type:"OPEN"}))}catch(t){return Promise.reject(t)}},[]),onCloseStart:(0,w.useCallback)(function(){try{return Promise.resolve(null==to.current?void 0:to.current({type:"CLOSE"}))}catch(t){return Promise.reject(t)}},[]),onResizeStart:(0,w.useCallback)(function(){try{return Promise.resolve(null==to.current?void 0:to.current({type:"RESIZE",source:eP.current}))}catch(t){return Promise.reject(t)}},[]),onSnapEnd:(0,w.useCallback)(function(t,e){try{return Promise.resolve(null==ts.current?void 0:ts.current({type:"SNAP",source:t.snapSource}))}catch(t){return Promise.reject(t)}},[]),onOpenEnd:(0,w.useCallback)(function(){try{return Promise.resolve(null==ts.current?void 0:ts.current({type:"OPEN"}))}catch(t){return Promise.reject(t)}},[]),onCloseEnd:(0,w.useCallback)(function(){try{return Promise.resolve(null==ts.current?void 0:ts.current({type:"CLOSE"}))}catch(t){return Promise.reject(t)}},[]),onResizeEnd:(0,w.useCallback)(function(){try{return Promise.resolve(null==ts.current?void 0:ts.current({type:"RESIZE",source:eP.current}))}catch(t){return Promise.reject(t)}},[]),renderVisuallyHidden:(0,w.useCallback)(function(t,e){try{return Promise.resolve(eG({y:eH.current,ready:0,maxHeight:eL.current,maxSnap:eF.current,minSnap:eH.current,immediate:!0})).then(function(){})}catch(t){return Promise.reject(t)}},[eG]),activate:(0,w.useCallback)(function(t,e){try{return ti.current=!0,Promise.resolve(Promise.all([eC.current.activate(),eN.current.activate(),eA.current.activate()])).then(function(){})}catch(t){return Promise.reject(t)}},[eA,eN,eC]),deactivate:(0,w.useCallback)(function(){try{return eC.current.deactivate(),eN.current.deactivate(),eA.current.deactivate(),ti.current=!1,Promise.resolve()}catch(t){return Promise.reject(t)}},[eA,eN,eC]),openImmediately:(0,w.useCallback)(function(){try{return ek.current=eH.current,Promise.resolve(eG({y:eH.current,ready:1,maxHeight:eL.current,maxSnap:eF.current,minSnap:eH.current,immediate:!0})).then(function(){})}catch(t){return Promise.reject(t)}},[eG]),openSmoothly:(0,w.useCallback)(function(){try{return Promise.resolve(eG({y:0,ready:1,maxHeight:eL.current,maxSnap:eF.current,minSnap:eH.current,immediate:!0})).then(function(){return ek.current=eH.current,Promise.resolve(eG({y:eH.current,ready:1,maxHeight:eL.current,maxSnap:eF.current,minSnap:eH.current,immediate:eT.current})).then(function(){})})}catch(t){return Promise.reject(t)}},[eG,eT]),snapSmoothly:(0,w.useCallback)(function(t,e){try{var n=eB.current(t.y);return ek.current=n,M.current=n,Promise.resolve(eG({y:n,ready:1,maxHeight:eL.current,maxSnap:eF.current,minSnap:eV.current,immediate:eT.current,config:{velocity:t.velocity}})).then(function(){})}catch(t){return Promise.reject(t)}},[eG,M,eT]),resizeSmoothly:(0,w.useCallback)(function(){try{var t=eB.current(ek.current);return ek.current=t,M.current=t,Promise.resolve(eG({y:t,ready:1,maxHeight:eL.current,maxSnap:eF.current,minSnap:eV.current,immediate:"element"!==eP.current||eT.current})).then(function(){})}catch(t){return Promise.reject(t)}},[eG,M,eT]),closeSmoothly:(0,w.useCallback)(function(t,e){try{return eG({minSnap:ek.current,immediate:!0}),ek.current=0,Promise.resolve(eG({y:0,maxHeight:eL.current,maxSnap:eF.current,immediate:eT.current})).then(function(){return Promise.resolve(eG({ready:0,immediate:!0})).then(function(){})})}catch(t){return Promise.reject(t)}},[eG,eT])}},r=(0,w.useCallback)(function(t){var e=void 0===t.changed&&Object.keys(t.children).length;(t.changed||e)&&S(t)},[]),void 0===(i=n)&&(i={}),o=t1(function(){return"function"==typeof as?as():as}),a=i.context,s=i.guards,u=i.actions,c=i.activities,l=i.services,d=i.delays,f=i.state,h=t8(i,["context","guards","actions","activities","services","delays","state"]),p=t1(function(){return t0(o.withConfig({context:a,guards:s,actions:u,activities:c,services:l,delays:d},function(){return t7(t7({},o.context),a)}),t7({deferEvents:!0},h))}),tB(function(){var t;return r&&(t=p.subscribe(function(t,e,n){if("object"==typeof t)return t;var r=function(){};return{next:t,error:r,complete:r}}(r))),function(){null==t||t.unsubscribe()}},[r]),tB(function(){return p.start(f?tF.create(f):void 0),function(){p.stop()}},[]),tB(function(){Object.assign(p.machine.options.actions,u),Object.assign(p.machine.options.guards,s),Object.assign(p.machine.options.activities,c),Object.assign(p.machine.options.services,l),Object.assign(p.machine.options.delays,d)},[u,s,c,l,d]),y=(0,w.useRef)([]),g=(0,w.useRef)([]),tB(function(){var t=p.subscribe(function(t){var e,n;if(t.actions.length){var r=t3(function(t,e){var n,r,i=t2([[],[]],2),o=i[0],a=i[1];try{for(var s=t5(t),u=s.next();!u.done;u=s.next()){var c=u.value;e(c)?o.push(c):a.push(c)}}catch(t){n={error:t}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return[o,a]}(t.actions.filter(function(t){return"function"==typeof t.exec&&"__effect"in t.exec}),function(t){return t.exec.__effect===v.Effect}),2),i=r[0],o=r[1];(e=y.current).push.apply(e,t4([],t3(i.map(function(e){return[e,t]})),!1)),(n=g.current).push.apply(n,t4([],t3(o.map(function(e){return[e,t]})),!1))}});return function(){t.unsubscribe()}},[]),tB(function(){for(;g.current.length;){var t=t3(g.current.shift(),2);t9(t[0],t[1])}}),(0,w.useEffect)(function(){for(;y.current.length;){var t=t3(y.current.shift(),2);t9(t[0],t[1])}}),b=(m=t6((0,w.useState)(function(){var t=p.machine.initialState;return n.state?tF.create(n.state):t}),2))[0],S=m[1],[b,p.send,p]),e$=eq[0],eU=eq[1];(0,w.useEffect)(function(){tn&&eU(D?"OPEN":"CLOSE")},[D,eU,tn]),o6(function(){(eM||eI||eD)&&eU("RESIZE")},[eM,eI,eD,eU]),(0,w.useEffect)(function(){return function(){eC.current.deactivate(),eN.current.deactivate(),eA.current.deactivate()}},[eA,eN,eC]),(0,w.useImperativeHandle)(e,function(){return{snapTo:function(t,e){var n=void 0===e?{}:e,r=n.velocity,i=n.source;eU("SNAP",{payload:{y:eB.current(t),velocity:void 0===r?1:r,source:void 0===i?"custom":i}})},get height(){return ek.current}}},[eU]),(0,w.useEffect)(function(){var t=eb.current,e=function(t){eR.current&&t.preventDefault()},n=function(e){t.scrollTop<0&&(requestAnimationFrame(function(){t.style.overflow="hidden",t.scrollTop=0,t.style.removeProperty("overflow")}),e.preventDefault())};return Y&&(t.addEventListener("scroll",e),t.addEventListener("touchmove",e),t.addEventListener("touchstart",n)),function(){t.removeEventListener("scroll",e),t.removeEventListener("touchmove",e),t.removeEventListener("touchstart",n)}},[Y,eb]);var eK=function(t,e){void 0===e&&(e={}),ib.set("drag",iD);var n,r,i,o,a,s,u,c,l,d=(0,w.useRef)();return d.current||(d.current=(o=[],a=!1,function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return a&&r===this&&function(t,e){try{return function t(e,n){if(e===n)return!0;if(e&&n&&"object"==typeof e&&"object"==typeof n){var r,i,o,a;if(e.constructor!==n.constructor)return!1;if(Array.isArray(e)){if((r=e.length)!==n.length)return!1;for(i=r;0!=i--;)if(!t(e[i],n[i]))return!1;return!0}if("function"==typeof Map&&e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(a=e.entries();!(i=a.next()).done;)if(!n.has(i.value[0]))return!1;for(a=e.entries();!(i=a.next()).done;)if(!t(i.value[1],n.get(i.value[0])))return!1;return!0}if("function"==typeof Set&&e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(a=e.entries();!(i=a.next()).done;)if(!n.has(i.value[0]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if((r=(o=Object.keys(e)).length)!==Object.keys(n).length)return!1;for(i=r;0!=i--;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;if("undefined"!=typeof Element&&e instanceof Element)return!1;for(i=r;0!=i--;)if(("_owner"!==o[i]||!e.$$typeof)&&!t(e[o[i]],n[o[i]]))return!1;return!0}return e!=e&&n!=n}(t,e)}catch(t){if((t.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw t}}(e,o)||(i=iy.apply(this,e),a=!0,r=this,o=e),i})),s={drag:t},u=d.current(e),void 0===c&&(c={}),n=new Set,s.drag&&n.add(ib.get("drag")),s.wheel&&n.add(ib.get("wheel")),s.scroll&&n.add(ib.get("scroll")),s.move&&n.add(ib.get("move")),s.pinch&&n.add(ib.get("pinch")),s.hover&&n.add(ib.get("hover")),((l=w.useMemo(function(){return new i_(n)},[])).config=u,l.handlers=s,l.nativeRefs=c,w.useEffect(l.effect,[]),l.config.domTarget)?iC:l.bind}(function(t){var e=t.args,n=(e=void 0===e?[]:e)[0],r=(n=void 0===n?{}:n).closeOnTap,i=n.isContentDragging,o=t.cancel,a=t.direction[1],s=t.down,u=t.first,c=t.last,l=t.memo,d=void 0===l?ey.y.get():l,f=t.tap,h=t.velocity,p=-1*t.movement[1];if(!ti.current)return o(),d;if(L&&void 0!==r&&r&&f)return o(),setTimeout(function(){return L()},0),d;if(f)return d;var v=d+p,y=p*h,g=Math.max(eV.current,Math.min(eF.current,v+2*y));if(!s&&L&&a>0&&v+y<eV.current/2)return o(),L(),d;var m=s?L||eV.current!==eF.current?r8(v,L?0:eV.current,eF.current,.55):v<eV.current?r8(v,eV.current,2*eF.current,.55):r8(v,eV.current/2,eF.current,.55):g;return Y&&void 0!==i&&i?(m>=eF.current&&(m=eF.current),d===eF.current&&eb.current.scrollTop>0&&(m=eF.current),eR.current=m<eF.current):eR.current=!1,u&&eU("DRAG"),c?eU("SNAP",{payload:{y:m,velocity:h>.05?h:1,source:"dragging"}}):eg({y:m,ready:1,maxHeight:eL.current,maxSnap:eF.current,minSnap:eV.current,immediate:!0,config:{velocity:h}}),d},{filterTaps:!0});if(Number.isNaN(eF.current))throw TypeError("maxSnapRef is NaN!!");if(Number.isNaN(eV.current))throw TypeError("minSnapRef is NaN!!");var eQ=(E=rG([ey.y,ey.maxHeight],function(t,e){return Math.round(at(e-t,0,16))+"px"}),_=rG([ey.y,ey.minSnap,ey.maxSnap],function(t,e,n){return at(t,e,n)+"px"}),O=rG([ey.y,ey.minSnap,ey.maxSnap],function(t,e,n){return t<e?e-t+"px":t>n?n-t+"px":"0px"}),k=rG([ey.y,ey.maxSnap],function(t,e){return t>=e?Math.ceil(t-e):0}),P=rG([ey.y,ey.minSnap],function(t,e){if(!e)return 0;var n=Math.max(e/2-45,0);return at((t-n)*(1/(Math.min(e/2+45,e)-n)+0),0,1)}),R=rG([ey.y,ey.minSnap],function(t,e){return e?at(t/e,0,1):0}),(x={})["--rsbs-content-opacity"]=P,x["--rsbs-backdrop-opacity"]=R,x["--rsbs-antigap-scale-y"]=k,x["--rsbs-overlay-translate-y"]=O,x["--rsbs-overlay-rounded"]=E,x["--rsbs-overlay-h"]=_,x);return w.createElement(r2.div,o7({},tt,{"data-rsbs-root":!0,"data-rsbs-state":av.find(e$.matches),"data-rsbs-is-blocking":q,"data-rsbs-is-dismissable":!!L,"data-rsbs-has-header":!!j,"data-rsbs-has-footer":!!N,className:A,ref:em,style:o7({},eQ,U,{opacity:ey.ready})}),C,q&&w.createElement("div",o7({key:"backdrop","data-rsbs-backdrop":!0},eK({closeOnTap:!0}))),w.createElement("div",{key:"overlay","aria-modal":"true",role:"dialog","data-rsbs-overlay":!0,tabIndex:-1,ref:eO,onKeyDown:function(t){"Escape"===t.key&&(t.stopPropagation(),L&&L())}},!1!==j&&w.createElement("div",o7({key:"header","data-rsbs-header":!0,ref:ew},eK()),j),w.createElement("div",o7({key:"scroll","data-rsbs-scroll":!0,ref:eb},Y?eK({isContentDragging:!0}):{}),w.createElement("div",{"data-rsbs-content":!0,ref:eS},T)),N&&w.createElement("div",o7({key:"footer",ref:eE,"data-rsbs-footer":!0},eK()),N)))}),av=["closed","opening","open","closing","dragging","snapping","resizing"];function ay(t){var e=t.lastSnap;return null!=e?e:Math.min.apply(Math,t.snapPoints)}function ag(t){return t.minHeight}var am=["onSpringStart","onSpringEnd","skipInitialTransition"],ab=(0,w.forwardRef)(function(t,e){var n=t.onSpringStart,r=t.onSpringEnd,i=t.skipInitialTransition,o=o8(t,am),a=(0,w.useState)(!1),s=a[0],u=a[1],c=(0,w.useRef)(),l=(0,w.useRef)(null),d=(0,w.useRef)(i&&o.open?"OPEN":"CLOSED");o6(function(){if(o.open)return cancelAnimationFrame(c.current),u(!0),function(){d.current="CLOSED"}},[o.open]);var f=(0,w.useCallback)(function(t){return Promise.resolve(null==n?void 0:n(t)).then(function(){"OPEN"===t.type&&cancelAnimationFrame(c.current)})},[n]),h=(0,w.useCallback)(function(t){return Promise.resolve(null==r?void 0:r(t)).then(function(){"CLOSE"===t.type&&(c.current=requestAnimationFrame(function(){return u(!1)}))})},[r]);return s?w.createElement(_,{"data-rsbs-portal":!0},w.createElement(ap,o7({},o,{lastSnapRef:l,ref:e,initialState:d.current,onSpringStart:f,onSpringEnd:h}))):null})},50267:function(t){t.exports=function(){}}}]);